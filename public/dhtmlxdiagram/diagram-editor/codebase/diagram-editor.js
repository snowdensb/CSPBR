/*
@license

dhtmlxDiagram v.2.1.0 Trial
This software is covered by DHTMLX Evaluation License. Contact sales@dhtmlx.com to get Commercial or Enterprise license. Usage without proper license is prohibited.

(c) Dinamenta, UAB.
*/!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/codebase/",n(n.s=36)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(38);e.el=i.defineElement,e.sv=i.defineSvgElement,e.view=i.defineView,e.create=i.createView,e.inject=i.injectView,e.disableHelp=function(){i.DEVMODE.mutations=!1,i.DEVMODE.warnings=!1,i.DEVMODE.verbose=!1,i.DEVMODE.UNKEYED_INPUT=!1},e.resizer=function(t){return e.el("iframe",{_hooks:{didInsert:function(e){var n=function(){var n=e.el.offsetHeight,i=e.el.offsetWidth;t(i,n)};e.el.contentWindow.onresize=n,n()}},style:"position:absolute;left:0;top:-100%;width:100%;height:100%;margin:1px 0 0;border:none;opacity:0;visibility:hidden;pointer-events:none;"})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(new Date).valueOf();e.uid=function(){return"u"+i++},e.extend=function t(e,n){if(n)for(var i in n){var o=n[i],r=e[i];"object"!=typeof r||r instanceof Date||r instanceof Array?e[i]=o:t(r,o)}return e},e.copy=function(t){var e={};for(var n in t)e[n]=t[n];return e},e.naturalSort=function(t){return t.sort(function(t,e){return"string"==typeof t?t.localeCompare(e):t-e})},e.findIndex=function(t,e){for(var n=t.length,i=0;i<n;i++)if(e(t[i]))return i;return-1},e.isEqualString=function(t,e){if(t.length>e.length)return!1;for(var n=0;n<t.length;n++)if(t[n].toLowerCase()!==e[n].toLowerCase())return!1;return!0},e.singleOuterClick=function(t){var e=function(n){t(n)&&document.removeEventListener("click",e)};document.addEventListener("click",e)}},function(t,e,n){"use strict";var i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var o=n(15),r=n(1),s=n(0),a=function(){function t(t,e){var n=this;this._config=i({},t),this._evs=e,this._uid=r.uid(),this._handlers={change:function(t){return n._changed(t)}}}return t.prototype.setValue=function(t,e){var n=this._config.value;t!==n&&(this._config.value=t,this._config.invalid=!o.validate(t,this._config.validate),e||this._evs.callEvent("onChange",[this._config.id,t,n]))},t.prototype.getValue=function(){return this._config.value},t.prototype.clear=function(){this.setValue("",!0)},t.prototype.toVDOM=function(){return s.el(".dhx_text_item",{_key:this._uid},[s.el(".dhx_value",[s.el("input",{_ref:this._uid,type:"text",value:this._config.value,class:this._config.invaild?"dhx_invalid":"",onchange:this._handlers.change,oninput:this._handlers.change})])])},t.prototype._changed=function(t){this.setValue(t.target.value)},t}();e.Text=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.events={},this.context=t||this}return t.prototype.on=function(t,e,n){var i=t.toLowerCase();this.events[i]=this.events[i]||[],this.events[i].push({callback:e,context:n||this.context})},t.prototype.detach=function(t,e){var n=t.toLowerCase(),i=this.events[n];if(e)for(var o=i.length-1;o>=0;o--)i[o].context===e&&i.splice(o,1);else this.events[n]=[]},t.prototype.fire=function(t,e){void 0===e&&(e=[]);var n=t.toLowerCase();return!this.events[n]||this.events[n].map(function(t){return t.callback.apply(t.context,e)}).indexOf(!1)<0},t}();e.EventSystem=i,e.EventsMixin=function(t){var e=new i(t=t||{});t.detachEvent=e.detach.bind(e),t.attachEvent=e.on.bind(e),t.callEvent=e.fire.bind(e)}},function(t,e,n){"use strict";function i(t,e){for(void 0===e&&(e="dhx_id"),t instanceof Event&&(t=t.target);t&&t.getAttribute;){if(t.getAttribute(e))return t;t=t.parentNode}}Object.defineProperty(e,"__esModule",{value:!0}),n(39),e.toNode=function(t){return"string"==typeof t&&(t=document.getElementById(t)||document.querySelector(t)),t||document.body},e.eventHandler=function(t,e){var n=Object.keys(e);return function(i){for(var o=t(i),r=i.target;r;){var s=r.getAttribute&&r.getAttribute("class")||"";if(s.length)for(var a=s.split(" "),l=0;l<n.length;l++)if(a.indexOf(n[l])>-1)return e[n[l]](i,o);r=r.parentNode}return!0}},e.locate=function(t,e){void 0===e&&(e="dhx_id");var n=i(t,e);return n?n.getAttribute(e):""},e.locateNode=i,e.getBox=function(t){var e=t.getBoundingClientRect(),n=document.body,i=window.pageYOffset||n.scrollTop,o=window.pageXOffset||n.scrollLeft;return{top:e.top+i,left:e.left+o,right:n.offsetWidth-e.right,bottom:n.offsetHeight-e.bottom,width:e.right-e.left,height:e.bottom-e.top}};var o=-1;e.getScrollbarWidth=function(){if(o>-1)return o;var t=document.createElement("div");return document.body.appendChild(t),t.style.cssText="position: absolute;left: -99999px;overflow:scroll;width: 100px;height: 100px;",o=t.offsetWidth-t.clientWidth,document.body.removeChild(t),o},e.fitPosition=function(t,e,n,i){var o=t.left+t.width,r=t.top+t.height;if("bottom"===e)return{position:"absolute",left:l=window.innerWidth<t.left+n?o-n:t.left,top:a=r+i>window.innerHeight?t.top-i+window.scrollY:r+window.scrollY,minWidth:n};var s=void 0,a=t.top+window.scrollY,l=window.innerWidth<o+n?t.left-n:o;return r+i>window.innerHeight&&(r-i>0?a=r-i+window.scrollY:(s="scroll",i=.8*(window.innerHeight-t.top))),{position:"absolute",left:l,top:a,minWidth:n,overflow:s,height:i}}},function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),i(n(37));var o=n(55);e.locale=o.default,i(n(7))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(4),r=function(){function t(t,e){this._uid=i.uid(),this.config=e||{}}return t.prototype.mount=function(t,e){this._view=e,t&&e.mount&&(this._container=o.toNode(t),e.mount(this._container))},t.prototype.getRootView=function(){return this._view},t.prototype.paint=function(){this._view&&(this._view.node||this._container||!this._view.mount)&&(this._doNotRepaint=!1,this._view.redraw())},t}();e.View=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(11);e.DataEvents=o.DataEvents,e.SelectionEvents=o.SelectionEvents,(i=e.DiagramEvents||(e.DiagramEvents={})).scroll="scroll",i.beforeCollapse="beforecollapse",i.afterCollapse="aftercollapse",i.beforeExpand="beforeexpand",i.afterExpand="afterexpand",i.shapeMouseDown="shapemousedown",i.shapeClick="shapeclick",i.shapedDblClick="shapedblclick",i.shapeIconClick="shapeiconclick",i.beforeRender="beforerender",i.shapeHover="shapeHover",i.emptyAreaClick="emptyAreaClick",i.load="load"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(11);e.DataEvents=o.DataEvents,e.DragBehaviour=o.DragBehaviour,e.DragMode=o.DragMode,(i=e.TreeFilterType||(e.TreeFilterType={}))[i.all=1]="all",i[i.specific=2]="specific",i[i.leafs=3]="leafs"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(13),o=n(26),r=n(27);e.isEqualObj=function(t,e){for(var n in t)if(t[n]!==e[n])return!1;return!0},e.naturalCompare=function(t,e){var n=[],i=[];for(t.replace(/(\d+)|(\D+)/g,function(t,e,i){n.push([e||1/0,i||""])}),e.replace(/(\d+)|(\D+)/g,function(t,e,n){i.push([e||1/0,n||""])});n.length&&i.length;){var o=n.shift(),r=i.shift(),s=o[0]-r[0]||o[1].localeCompare(r[1]);if(s)return s}return n.length-i.length},e.findByConf=function(t,e){if("function"==typeof e){if(e.call(this,t))return t}else if(e.by&&e.match&&t[e.by]===e.match)return t},e.isDebug=function(){var t=window.dhx;if(void 0!==t)return void 0!==t.debug&&t.debug},e.dhxWarning=function(t){console.warn(t)},e.dhxError=function(t){throw new Error(t)},e.toProxy=function(t){var e=typeof t;return"string"===e?new i.DataProxy(t):"object"===e?t:void 0},e.toDataDriver=function(t){if("string"==typeof t)switch(t){case"csv":return new o.CsvDriver;case"json":return new r.JsonDriver;default:console.warn("incorrect driver type",t)}else if("object"==typeof t)return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o={rotate:n(60),elbow:n(61),straight:n(62),curved:n(63),"align-bottom":n(64),"align-center":n(65),"align-left":n(66),"align-right":n(67),"align-middle":n(68),"align-top":n(69),"align-horizontal-center":n(70),"align-horizontal-left":n(71),"align-horizontal-right":n(72),"align-vertical-bottom":n(73),"align-vertical-top":n(74),"align-vertical-middle":n(75),"text-shape":n(76),"image-shape":n(77),"filled-arrow":n(78),"filled-arrow-rewerse":n(79),line:n(80),duplicate:n(81),connect:n(82),"change-shape":n(83),plus:n(84),minus:n(85),"remove-point":n(86)};e.getIcon=function(t,e,n,r){return void 0===n&&(n=20),void 0===r&&(r=20),i.el("i",{".innerHTML":o[t],class:e||"",_key:t,style:{width:n,height:r,display:"block",pointerEvents:"none"}})},e.addIcon=function(){return i.sv("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[i.sv("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"})])},e.removeIcon=function(){return i.sv("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[i.sv("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"})])},e.verticalIcon=function(){return i.sv("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"18",viewBox:"0 0 10 18"},[i.sv("path",{d:"M2.5,5 C1.11928813,5 0,3.88071187 0,2.5 C0,1.11928813 1.11928813,0 2.5,0 C3.88071187,0 5,1.11928813 5,2.5 C5,3.88071187 3.88071187,5 2.5,5 Z M10,11 L5,11 L5,9 L3,9 L3,11 L3,15 L5,15 L5,13 L10,13 L10,18 L5,18 L5,16 L2,16 L2,15 L2,11 L2,9 L2,8 L2,5 L2.5,5 L3,5 L3,8 L5,8 L5,6 L10,6 L10,11 Z"})])},e.horizontalIcon=function(){return i.sv("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"15",viewBox:"0 0 20 15",transform:"translate(.5,.5)"},[i.sv("path",{d:"M10,4.94999094 L10,7 L17,7 L17,7.5 L17,10 L16,10 L16,8 L10,8 L10,10 L9,10 L9,8 L3,8 L3,10 L2,10 L2,7 L2.5,7 L9,7 L9,4.94999094 C7.85887984,4.71835578 7,3.70947896 7,2.5 C7,1.11928813 8.11928813,0 9.5,0 C10.8807119,0 12,1.11928813 12,2.5 C12,3.70947896 11.1411202,4.71835578 10,4.94999094 Z M-2.90878432e-13,10 L5,10 L5,15 L-2.90878432e-13,15 L-2.90878432e-13,10 Z M14,10 L19,10 L19,15 L14,15 L14,10 Z M7,10 L12,10 L12,15 L7,15 L7,10 Z"})])}},function(t,e,n){"use strict";var i,o,r,s,a;Object.defineProperty(e,"__esModule",{value:!0}),(i=e.DataEvents||(e.DataEvents={})).add="add",i.afterAdd="afteradd",i.beforeAdd="beforeadd",i.remove="remove",i.removeAll="removeAll",i.beforeRemove="beforeremove",i.afterRemove="afterRemove",i.change="change",i.load="load",(o=e.DragEvents||(e.DragEvents={})).beforeDrag="beforedrag",o.beforeDrop="beforeDrop",o.dragStart="dragstart",o.dragEnd="dragend",o.canDrop="candrop",o.cancelDrop="canceldrop",o.dropComplete="dropcomplete",o.dragOut="dragOut",o.dragIn="dragIn",(r=e.DragMode||(e.DragMode={})).target="target",r.both="both",r.source="source",(s=e.DragBehaviour||(e.DragBehaviour={})).child="child",s.sibling="sibling",s.complex="complex",(a=e.SelectionEvents||(e.SelectionEvents={})).beforeUnSelect="beforeunselect",a.afterUnSelect="afterunselect",a.beforeSelect="beforeselect",a.afterSelect="afterselect"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.config=this.setDefaults(t),this.id=t.id,t.width&&(t.width=parseFloat(t.width)),t.height&&(t.height=parseFloat(t.height)),t.x&&(t.x=parseFloat(t.x)),t.y&&(t.y=parseFloat(t.y))}return t.prototype.isConnector=function(){return!1},t.prototype.canResize=function(){return!0},t.prototype.getCenter=function(){var t=this.config;return{x:Math.abs(t.width/2),y:Math.abs(t.height/2)}},t.prototype.getBox=function(){var t=this.config,e=t.x+(t.dx||0),n=e+t.width,i=t.y+(t.dy||0);return{left:e,right:n,top:i,bottom:i+t.height}},t.prototype.getMetaInfo=function(){return[{id:"text",label:"Text",type:"text"}]},t.prototype.move=function(t,e){this.update({x:t,y:e})},t.prototype.resize=function(t,e){this.update({width:t,height:e})},t.prototype.rotate=function(t){this.update({angle:t})},t.prototype.update=function(t){for(var e in t)this.config[e]=t[e]},t.prototype.toSVG=function(){return""},t.prototype.getPoint=function(t,e){var n=this.config;if(n.angle){var i=n.x+n.width/2,o=n.y+n.height/2,r=n.angle*(Math.PI/180);return{x:(t-i)*Math.cos(r)-(e-o)*Math.sin(r)+i,y:(t-i)*Math.sin(r)+(e-o)*Math.cos(r)+o}}return{x:t,y:e}},t.prototype.setCss=function(t){this.config.css=t},t.prototype.getCss=function(){return(this.config.$selected?"dhx_selected ":"")+(this.config.css||"")},t.prototype.setDefaults=function(t){return t},t.prototype.getCoords=function(t){var e=t.x,n=t.y;return t.dx&&(e=t.x+t.dx),t.dy&&(n=t.y+t.dy),{x:e,y:n}},t}();e.BaseShape=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.url=t}return t.prototype.load=function(){return this._ajax(this.url)},t.prototype.save=function(t,e){return this._ajax(this.url,t,{insert:"POST",delete:"DELETE",update:"POST"}[e]||"POST")},t.prototype._ajax=function(t,e,n){return void 0===n&&(n="GET"),new Promise(function(i,o){var r=new XMLHttpRequest;switch(r.onload=function(){r.status>=200&&r.status<300?i(r.response||r.responseText):o({status:r.status,statusText:r.statusText})},r.onerror=function(){o({status:r.status,statusText:r.statusText})},r.open(n,t),r.setRequestHeader("Content-Type","application/json"),n){case"POST":case"DELETE":case"PUT":r.send(JSON.stringify(e));break;case"GET":default:r.send()}})},t}();e.DataProxy=i},function(t,e,n){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),(i=e.DiagramEditorEvents||(e.DiagramEditorEvents={})).resetButton="resetbutton",i.applyButton="applybutton",i.shapeMove="shapemove",i.shapeResize="shaperesize",i.zoomIn="zoomin",i.zoomOut="zoomout",i.visibility="visibility",i.shapesUp="shapesup"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={email:/^[a-z\_\-\.]+@[a-z\_\-]+\.[a-z]{2,}$/i,number:/^\-?[0-9]{1,6}$/,color:/^\#[0-9A-Fa-f]{6}$/,date:/^[0-9]{4}\-[0-9]{1,2}\-[0-9]{1,2}$/};e.validate=function(t,e){var n=!0;return e&&"string"==typeof t&&""!==t&&(n="function"==typeof(e=i[e]||e)?e.call(this,t):!!t.match(e)),n}},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),s=n(12),a=n(22),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.toSVG=function(){var t=this.config,e=this.getCenter(),n=t.$selected?t.color:"#E4E4E4",i=this.getCoords(t);return r.sv("g",{_key:t.id,transform:"translate("+i.x+","+i.y+") rotate("+(t.angle||0)+","+e.x+","+e.y+")",class:this.getCss(),dhx_id:t.id},[r.sv("rect",{class:"dhx_item_shape",id:t.id,height:t.height,width:t.width,rx:1,ry:1,stroke:n,"stroke-width":1}),a.getTextTemplate(t,this.text()),a.getHeaderTpl(t),a.getCircleTpl(t)])},e.prototype.getMetaInfo=function(){return[{id:"text",label:"Text",type:"text"}]},e.prototype.getCss=function(){return"dhx_diagram_item "+t.prototype.getCss.call(this)},e.prototype.setDefaults=function(t){return t.width=t.width||140,t.height=t.height||90,t},e.prototype.text=function(){return this.config.text},e}(s.BaseShape);e.DiagramCard=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(87),o=n(14),r=n(0),s=n(5),a=n(88),l=n(89);function c(t,e){i.drag.start(t,e.data.resizer,e.data.p)}function d(t,e){var n=e.x-t.x,i=e.y-t.y;return Math.sqrt(n*n+i*i)}e.getLength=d;var h=function(){function t(t,e){var n=this;this._events=t,this._diagram=e,this._connect=new a.Connect(this,this._diagram),this._resize=new l.Resize(this,this._diagram),this._diagram.events.on(s.DiagramEvents.shapeMouseDown,function(t,r){var a=n._diagram.config.gridStep;n._connect.removeNearShape(),n._diagram.selection.add(t);var l=n._diagram.data.getItem(t);l.$connectMode&&n._connect.setNearShape(l),l.$shape.isConnector()&&l.$selectedPoint&&(l.$selectedPoint=""),i.drag.start(r,{onMove:function(t,i,o){i.x=Math.round(i.x/a)*a,i.y=Math.round(i.y/a)*a;var r={dx:(l.dx||0)+i.x,dy:(l.dy||0)+i.y};"org"!==e.config.type&&(r={x:(l.x||0)+i.x,y:(l.y||0)+i.y}),n._diagram.data.update(l.id,r)},onUp:function(){n._events.fire(o.DiagramEditorEvents.shapeMove,[])}},null),n._diagram.events.on(s.DiagramEvents.beforeRender,function(t){return n._diagramSize=t})}),this._diagram.events.on(s.DiagramEvents.shapedDblClick,function(t,e){var i=n._diagram.data.getItem(t);if(i.$shape.isConnector()){var o=n.getPoint(e.clientX,e.clientY);o.$custom=!0;var r=1/0,s=i.points.reduce(function(t,e,n){var i=d(e,o);return i<r&&(r=i,t=n),t},1),a=i.points.slice();a.splice(s,0,o),n._diagram.data.update(t,{points:a}),n._diagram.paint()}}),this._diagram.events.on(s.SelectionEvents.afterUnSelect,function(t){var e=n._diagram.data.getItem(t);e.$shape.isConnector()&&e.$selectedPoint&&(e.$selectedPoint=null)})}return t.prototype.toSVG=function(t,e){if(!t){var n=[this._connect.getPoints(t,e)];return r.el(".dhx_controls",{onmousedown:{".dhx_connect_grip":c,".dhx_connect_point":c}},n)}if(!1!==t.$shape.canResize()){var i=[];return i="org"===this._diagram.config.type?[this._resize.getPoints(t,e)]:[this._connect.getPoints(t,e),this._connect.getItemId()!==t.id&&this._resize.getPoints(t,e)],r.el(".dhx_controls",{onmousedown:{".dhx_resize_grip":c,".dhx_connect_grip":c,".dhx_connect_point":c,".dhx_shape_rotate":c},onclick:{".dhx_resize_grip":this._gripClick}},i)}},t.prototype.setNearShape=function(t){this._connect.setNearShape(t)},t.prototype.toggleNearShape=function(t){this._connect.toggleNearShape(t)},t.prototype.getPoint=function(t,e){var n=this._diagram.getRootView().node.el,i=n.getBoundingClientRect(),o=this._diagram.config.margin,r=this._diagramSize||{left:-o.x,top:-o.y},s=this._diagram.config.scale,a=n.scrollLeft,l=n.scrollTop;return{x:(t-i.left)/s-o.x+a+(r.left+o.x),y:(e-i.top)/s-o.y+l+(r.top+o.y)}},t.prototype.onMove=function(t,e,n){var i=this._diagram.selection.getItem();if(n.rotate&&this._rotate(t,i),n.$break){n.$break=!1;var o={x:n.dx,y:n.dy,$custom:!0};i.points.splice(n.i,0,o)}var r=this._diagram.config.gridStep;if(i.$shape.isConnector())this._connect.moveConnector(t,i,e,n);else{e.x=Math.round(e.x/r)*r,e.y=Math.round(e.y/r)*r;var s={x:i.x};1===n.dx?(s.x+=e.x,s.width=i.width-e.x):s.width=i.width-e.x*n.dx,s.width>=30||(s.width=i.width),s.height=i.height-e.y*n.dy,s.height>=30?"org"===this._diagram.config.type?s.dy=(i.dy||0)+e.y*(1===n.dy?1:0):s.y=(i.y||0)+e.y*(1===n.dy?1:0):s.height=i.height,this._diagram.data.update(i.id,s)}},t.prototype.onUp=function(){this._connect.onUp(),this._diagram.paint(),this._events.fire(o.DiagramEditorEvents.shapeResize,[])},t.prototype._rotate=function(t,e){var n=this.getPoint(t.clientX,t.clientY),i=n.x,o=n.y,r=e.x+e.width/2,s=e.y+e.height/2,a=Math.atan2(o-s,i-r);a<0&&(a+=2*Math.PI);var l=Math.round(a*(180/Math.PI));this._diagram.data.update(e.id,{angle:l})},t.prototype._gripClick=function(t,e){var n=e.data.resizer._diagram.selection.getItem(),i=e.data.p;n.$shape.isConnector()&&!i.$break&&(n.$selectedPoint=i.i)},t}();e.Controls=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={applyAll:"Apply all",resetChanges:"Reset Changes",editCard:"Edit Card",color:"Color",position:"Position",size:"Size",save:"Save",reset:"Reset",shapeChangeTooltip:"Choose new type of shape from left toolbar"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0);e.getIconGroup=function(t,e,n,o,r){return i.el(".icons_group",{onclick:[t,e]},n.map(function(t){return i.el("div",{class:(t.css||"")+" "+(t.id===o?"dhx_selected":""),dhx_id:r&&o===t.id?"":t.id},[t.el||null])}))},e.getSelect=function(t,e,n,o){var r=n[0],s=n.map(function(n){var s;if(!n.disabled)return n.id===o&&(r=n,s="dhx_selected_option"),i.el(".dhx_select_option",{onmousedown:[t,e,n.id],tabIndex:1,class:s},[n.el?n.el():i.el("div",{class:n.class||""},n.text||""),n.id===o&&i.el(".dxi.dxi-check")])});return[i.el(".dhx_select",{tabIndex:1},[i.el(".dhx_select_label",[r.el?r.el():i.el("div",{class:r.class||""},r.text||"")]),i.el(".dhx_select_content",s)])]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n(95))},function(t,e,n){"use strict";var i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};function o(t,e,n){var o={top:{x:(t=i({},t)).x+t.width/2,y:t.y-e},bottom:{x:t.x+t.width/2,y:t.y+t.height+e},left:{x:t.x-e,y:t.y+t.height/2},right:{x:t.x+t.width+e,y:t.y+t.height/2}};return n?[o[n]||o].map(function(e){return t.$shape.getPoint(e.x,e.y)}):[o.top,o.bottom,o.left,o.right].map(function(e){return t.$shape.getPoint(e.x,e.y)})}function r(t,e,n,o,r,s){if(void 0===s&&(s=10),!r){var a=n.y===o.y?+s:0,l=n.x===o.x?+s:0;return[t,{x1:n.x,y1:n.y,x:n.x+a,y:n.y+l},{x:o.x-a,y:o.y-l},{x1:o.x,y1:o.y,x:e.x,y:e.y}]}var c=o.x<r.x?-1:1,d=o.y<r.y?-1:1,h=n.x>r.x?1:-1,u=n.y>r.y?1:-1,p=i({},r),f=i({},o),g={x1:r.x,y1:r.y,x:r.x,y:r.y+s*d};return n.x===r.x&&(p.y+=s*u,f.x-=s*c,g={x1:r.x,y1:r.y,x:r.x+s*c,y:r.y}),n.y===r.y&&(p.x+=s*h,f.y-=s*d,g={x1:r.x,y1:r.y,x:r.x,y:r.y+s*d}),[t,n,p,g,f,{x1:o.x,y1:o.y,x:e.x,y:e.y}]}Object.defineProperty(e,"__esModule",{value:!0}),e.nearestLinkPath=function(t,e,n,i){if(e&&n){var s=function(t,e,n,i,s,a){void 0===s&&(s=""),void 0===a&&(a="");for(var l,c,d,h,u,p,f,g,_=o(e,0,s),v=o(n,0,a),y=o(e,i,s),x=o(n,i,a),m=1/0,w=0;w<y.length;w++)for(var b=y[w],k=0;k<x.length;k++){var C=x[k],L=(u=b,f=(p=C).x-u.x,g=p.y-u.y,Math.sqrt(f*f+g*g));if(m>L)if(m=L,b.x===C.x||b.y===C.y)_[w].x===b.x&&b.x===v[k].x||_[w].y===b.y&&v[k].y===b.y?l=[_[w],v[k]]:(l=[_[w],b,C,v[k]],t.cornersRadius&&"straight"!==t.connectType&&(l=r(_[w],v[k],b,C,null,t.cornersRadius)));else{var S=b.x<_[w].x&&b.x<C.x,M=b.y>_[w].y&&b.y>C.y,D=_[w].x===b.x||S?{x:b.x,y:C.y}:{x:C.x,y:b.y};D=M?{x:C.x,y:b.y}:D,"curved"===t.connectType?(c=_[w],d=v[k],l=[c,{x1:(h=D).x,y1:h.y,x:d.x,y:d.y}]):l=t.cornersRadius&&"straight"!==t.connectType?r(_[w],v[k],b,C,D,t.cornersRadius):[_[w],b,D,C,v[k]]}}return l}(t,e,n,i.lineGap,t.fromSide,t.toSide);if("straight"===t.connectType)return t.points=[s[0],s[s.length-1]];if(t.points){if(t.points.length===s.length)t.points=t.points.map(function(t,e){return t&&s[e]&&!t.$custom?s[e]:t});else{var a=t.points.filter(function(t){return t.$custom});t.points=a.length?t.points:s}t.$move||(t.points[0]=s[0],t.points[t.points.length-1]=s[s.length-1])}else t.points=s}},e.directLinkPath=function(t,e,n,i){var o=e.x+(e.dx||0),r=e.y+(e.dy||0),s=n.x+(n.dx||0),a=n.y+(n.dy||0);if("vertical"===e.dir){var l=o,c=Math.round(r+e.height/2),d=s,h=Math.round(a+n.height/2),u=.5-Math.round(i.margin.itemX/2);t.points=[{x:l,y:c},{x:l+u,y:c},{x:l+u,y:h},{x:d,y:h}]}else l=Math.round(o+e.width/2),c=r+e.height,d=Math.round(s+n.width/2),h=a,u=Math.round(i.margin.itemY/2)+.5,t.points=[{x:l,y:c},{x:l,y:c+u},{x:d,y:c+u},{x:d,y:h}]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0);e.getCircleTpl=function(t){if(!t.$count&&!1!==t.open)return"";var e="vertical"===t.dir,n=!1===t.open,o=t.width/2,r=t.height/2,s={x:e?0:o,y:e?r:t.height},a=n?i.sv("polyline",{points:s.x-5+","+s.y+"\n\t\t"+s.x+","+s.y+"\n\t\t"+s.x+","+(s.y-5)+"\n\t\t"+s.x+","+(s.y+5)+"\n\t\t"+s.x+","+s.y+"\n\t\t"+(s.x+5)+","+s.y,"stroke-width":"2",stroke:"white",fill:"none"}):i.sv("line",{x1:s.x-5,y1:s.y,x2:s.x+5,y2:s.y,"stroke-width":"2",stroke:"white"});return i.sv("g",{x:s.x,y:s.y,dhx_diagram:"hide",class:n?"dhx_expand_icon":"dhx_hide_icon"},[i.sv("circle",{r:10,cx:s.x,cy:s.y,fill:t.$expandColor}),a])},e.getHeaderTpl=function(t){var e=t.color||"#20b6e2";return i.sv("rect",{height:3.5,width:t.width,class:"dhx_item_header",stroke:e,fill:e,"stroke-width":1})},e.getTextTemplate=function(t,e){return t.text||t.title?i.sv("foreignObject",{width:t.width,overflow:"hidden",height:t.height,transform:"translate(0 0)"},[i.el("div",{class:"shape_content",style:"width:"+t.width+"px;height:"+t.height+"px;"},e)]):null}},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o(n,t),n.prototype.getMetaInfo=function(){return[{id:"fill",type:"color",label:"Fill",hint:"Top line",value:"#FFDDFF"},{id:"text",label:"Content",type:"text"},{id:"strokeProps",type:"stroke",label:"Stroke"},{id:"textProps",type:"textProps",label:"Text"}]},n.prototype.toSVG=function(){this.config.strokeType&&("dash"===this.config.strokeType&&(this.config.strokeDash="5,5"),"none"===this.config.strokeType&&(this.config.stroke="none"));var t=this.config,e=this.getCenter(),n=this.getCoords(t);return r.sv("g",{_key:t.id,transform:"translate("+n.x+","+n.y+") rotate("+(t.angle||0)+","+e.x+","+e.y+")",class:"dhx_diagram_flow_item "+this.getCss(),dhx_id:t.id},[this._shapeLine(),this._getExtraLines(),this._getText()])},n.prototype.setDefaults=function(t){var e=["circle","or","junction"].indexOf(t.type)>=0;return t.width=t.width||(e?90:140),t.height=t.height||90,t.stroke=t.stroke||"#DEDEDE",t.extraLinesStroke=t.extraLinesStroke||"#FFF",t.fill=t.fill||"#DEDEDE",t.strokeWidth=t.strokeWidth||1,t.fontColor=t.fontColor||"#4C4C4C",t.fontSize=t.fontSize||14,t.textAlign=t.textAlign||"center",t.lineHeight=t.lineHeight||14,t.fontStyle=t.fontStyle||"normal",t.textVerticalAlign=t.textVerticalAlign||"center",t},n.prototype._shapeLine=function(){return r.sv("path",{d:this._getPoints(),class:"dhx_diagram_flow_shape dhx_item_shape ",stroke:this.config.stroke,fill:this.config.fill,"stroke-width":this.config.strokeWidth,"stroke-dasharray":this.config.strokeDash||""})},n.prototype._getPoints=function(){return(0,e.renders[this.config.type])(this.config.width,this.config.height,Math.round(this.config.width/12))},n.prototype._getExtraLines=function(){if(e.extraLines[this.config.type])return e.extraLines[this.config.type](this.config.width,this.config.height,Math.round(this.config.width/12),this.config)},n.prototype._getText=function(){var t=this.config,e=t.textVerticalAlign;if(t.text){var n=t.text.split(/\r?\n/).filter(function(t){return t.trim()}),i=1===n.length?.35:.6,o={left:10,center:t.width/2,right:t.width-10},s=n.map(function(e){var n=r.sv("tspan",{class:"dhx_content_text",x:o[t.textAlign],dy:i+"em"},e.trim());return i=t.lineHeight/14*1.2,n}),a={top:10,center:t.height/(n.length+1),bottom:t.height-17*n.length};return r.sv("text",{y:a[e],x:t.width/2,"text-anchor":{left:"start",center:"middle",right:"end"}[t.textAlign],"font-size":t.fontSize,"font-style":t.fontStyle,"font-weight":t.fontWeight,fill:t.fontColor},s)}},n}(n(12).BaseShape);function a(t,e){return"\n\tM "+t/2+" 0 A "+e/2+","+e/2+" 0 1 0 "+t/2+","+e+"\n\tA "+e/2+","+e/2+" 0 1 0 "+t/2+",0 Z"}function l(t,e){return"\n\tM 0,0\n\t"+t+",0\n\t"+t/2+","+e+" Z"}function c(t,e){return"\n\tM "+e/2+" 0 A "+e/2+","+e/2+" 0 1 0 "+e/2+","+e+"\n\tH "+(t-e/2)+" A "+e/2+","+e/2+" 0 1 0 "+(t-e/2)+",0 H "+e/2+" Z"}function d(t,e){return"M 0,0 L 0,"+e+" L "+t+","+e+" L "+t+",0 Z"}e.FlowShape=s,e.extraLines={database:function(t,e,n,i){return r.sv("path",{d:"M 0 "+n+" A "+t/2+","+n+" 0 1 0 "+t+","+n,fill:"none",stroke:i.extraLinesStroke,class:"dhx_diagram_extra_lines"})},internal:function(t,e,n,i){return r.sv("path",{d:"M "+n+" 0 V "+e+" M 0 "+n+" H "+t,stroke:i.extraLinesStroke,class:"dhx_diagram_extra_lines"})},offline:function(t,e,n,i){var o=e/Math.sqrt(Math.pow(t/2,2)+Math.pow(e,2)),s=Math.sqrt(Math.pow(n/o,2)-Math.pow(n,2));return r.sv("path",{d:"M "+(t/2-s)+" "+(e-n)+" h "+2*s,stroke:i.extraLinesStroke,class:"dhx_diagram_extra_lines"})},subroutine:function(t,e,n,i){return r.sv("path",{d:"M "+n+" 0 V "+e+" M "+(t-n)+" 0 V "+e,stroke:i.extraLinesStroke,class:"dhx_diagram_extra_lines"})},or:function(t,e,n,i){return r.sv("path",{d:"\n\t\t\t\tM"+(t-e)/2+" "+e/2+" "+(t-(t-e)/2)+" "+e/2+"\n\t\t\t\tM"+t/2+" 0 "+t/2+" "+e,stroke:i.extraLinesStroke,class:"dhx_diagram_extra_lines"})},junction:function(t,e,n,i){return r.sv("path",{d:"\n\t\t\tM "+(t/2-e*Math.SQRT2/4)+" "+(e/2-e*Math.SQRT2/4)+" L "+(t/2+e*Math.SQRT2/4)+" "+(e/2+e*Math.SQRT2/4)+"\n\t\t\tM "+(t/2-e*Math.SQRT2/4)+" "+(e/2+e*Math.SQRT2/4)+" L "+(t/2+e*Math.SQRT2/4)+" "+(e/2-e*Math.SQRT2/4),stroke:i.extraLinesStroke,class:"dhx_diagram_extra_lines"})},roll:function(t,e,n,i){return r.sv("path",{d:"M "+t/2+" "+e+" H "+t,stroke:i.stroke,"stroke-width":"2px",class:"dhx_item_shape "})}},e.renders={circle:a,rectangle:d,triangle:function(t,e){return"M "+t/2+" 0 L"+t+" "+e+" L 0 "+e+" z"},start:c,end:c,process:d,output:function(t,e,n){return"\n\tM "+2*n+",0\n\t"+t+",0\n\t"+(t-2*n)+","+e+"\n\t0,"+e+" Z"},decision:function(t,e){return"M 0 "+e/2+" L "+t/2+" 0 L "+t+" "+e/2+" L "+t/2+" "+e+" Z"},display:function(t,e){return"\n\tM 0 "+e/2+" L "+t/4+" 0 H "+3*t/4+"\n\tA "+t/4+","+e/2+" 0 1 1 "+3*t/4+","+e+"\n\tH "+t/4+" Z"},document:function(t,e){return"M0 "+e+" C\n\t"+t/6+" "+10*e/9+",\n\t"+t/3+" "+10*e/9+",\n\t"+t/2+" "+e+" S\n\t"+5*t/6+" "+8*e/9+",\n\t"+t+" "+e+"\n\tV 0 H 0 Z"},data:function(t,e,n){return"M "+n+" 0 Q\n\t"+-n+" "+e/2+",\n\t"+n+" "+e+" H "+t+" Q\n\t"+(t-2*n)+" "+e/2+",\n\t"+t+" 0 Z"},database:function(t,e,n){return"M 0 "+n+" A "+t/2+","+n+" 0 1 0 "+t+","+n+"\n\tA "+t/2+","+n+" 0 1 0 0,"+n+"\n\tV "+e+" H "+t+" V "+n},internal:d,offline:l,delay:function(t,e){return"\n\tM 0 0 H "+3*t/4+"\n\tA "+t/4+","+e/2+" 0 1 1 "+3*t/4+","+e+"\n\tH 0 Z"},page:function(t,e){return"\n\tM 0,0\n\t"+t+",0\n\t"+t+","+e/2+"\n\t"+t/2+","+e+"\n\t0,"+e/2+" Z"},input:function(t,e){return"\n\tM 0,"+e/3+"\n\t"+t+",0\n\t"+t+","+e+"\n\t0,"+e+" Z"},operation:function(t,e){return"\n\tM 0,0\n\t"+t+",0\n\t"+3*t/4+","+e+"\n\t"+t/4+","+e+" Z"},punchcard:function(t,e){return"\n\tM 0,"+e/4+"\n\t"+t/4+",0\n\t"+t+",0\n\t"+t+","+e+"\n\t0,"+e+" Z"},subroutine:d,comment:function(t,e){return"M "+t+" 0 H 0 V "+e+" H"+t+" V"+(e-4)+" H4 V4 H"+t},storage:l,extract:function(t,e){return"\n\tM 0,"+e+"\n\t"+t+","+e+"\n\t"+t/2+",0 Z"},collate:function(t,e){return"M "+t/2+" "+e/2+" L 0 0 H "+t+" L 0 "+e+" H "+t+" Z"},or:a,junction:a,keyring:function(t,e,n){return"\n\tM "+n+" 0 A "+n+","+e/2+" 0 1 0 "+n+","+e+"\n\tH "+(t-n)+" A "+n+","+e/2+" 0 1 0 "+(t-n)+",0 H "+n+" Z"},tape:function(t,e){return"\n\tM0 "+e+" C\n\t"+t/6+" "+10*e/9+",\n\t"+t/3+" "+10*e/9+",\n\t"+t/2+" "+e+" S\n\t"+5*t/6+" "+8*e/9+",\n\t"+t+" "+e+"\n\tV 0 C\n\t"+5*t/6+" "+-e/9+",\n\t"+2*t/3+" "+-e/9+",\n\t"+t/2+" 0 S\n\t"+1*t/6+" "+e/9+",\n\t0 0 Z"},preparation:function(t,e){return"M 0,"+e/2+" L20 0 L"+(t-20)+" 0 L"+t+" "+e/2+" L"+(t-20)+" "+e+" L20 "+e},endpoint:function(t,e){return"M0 "+e/2+"  L"+t/2+" 0 L "+t/2+" "+e+" z"},roll:a}},function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),i(n(8)),i(n(25)),i(n(28)),i(n(51)),i(n(13)),i(n(9)),i(n(26)),i(n(27)),i(n(53))},function(t,e,n){"use strict";var i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),r=n(49),s=n(50),a=n(13),l=n(9),c=n(8),d=n(1),h=function(){function t(t,e){this._order=[],this._pull={},this._changes={order:[]},this._initOrder=null,this.config=t||{},this._sort=new s.Sort,this._loader=new r.Loader(this,this._changes),this.events=e||new o.EventSystem(this)}return t.prototype.add=function(t,e){this.events.fire(c.DataEvents.beforeAdd,[t])&&(this._addCore(t,e),this._onChange(c.DataEvents.add,t.id,t),this.events.fire(c.DataEvents.afterAdd,[t]))},t.prototype.remove=function(t){var e=this._pull[t];if(e){if(!this.events.fire(c.DataEvents.beforeRemove,[e]))return;this._removeCore(e.id),this._onChange(c.DataEvents.remove,t,e)}},t.prototype.removeAll=function(){this._removeAll(),this.events.fire(c.DataEvents.change)},t.prototype.exists=function(t){return!!this._pull[t]},t.prototype.getNearId=function(t){if(!this._pull[t])return this._order[0].id||""},t.prototype.getItem=function(t){return this._pull[t]},t.prototype.update=function(t,e,n){var i=this.getItem(t);if(i){if(l.isEqualObj(e,i))return;e.id&&t!==e.id?(l.dhxWarning("this method doesn't allow change id"),l.isDebug()):(d.extend(this._pull[t],e),this.config.update&&this.config.update(this._pull[t]),n||this._onChange("update",t,this._pull[t]))}else l.dhxWarning("item not found")},t.prototype.getIndex=function(t){var e=d.findIndex(this._order,function(e){return e.id===t});return this._pull[t]&&e>=0?e:-1},t.prototype.getId=function(t){if(this._order[t])return this._order[t].id},t.prototype.filter=function(t,e){if(e||(this._order=this._initOrder||this._order,this._initOrder=null),t){var n=this._order.filter(function(e){return"function"==typeof t?t(e):e[t.by]===t.match});this._initOrder||(this._initOrder=this._order,this._order=n)}this.events.fire(c.DataEvents.change)},t.prototype.find=function(t){for(var e in this._pull){var n=l.findByConf(this._pull[e],t);if(n)return n}return null},t.prototype.findAll=function(t){var e=[];for(var n in this._pull){var i=l.findByConf(this._pull[n],t);i&&e.push(i)}return e},t.prototype.sort=function(t){this._sort.sort(this._order,t),this._initOrder&&this._initOrder.length&&this._sort.sort(this._initOrder,t),this.events.fire(c.DataEvents.change)},t.prototype.copy=function(t,e,n,o){if(!this.exists(t))return null;var r=d.uid();return n?o?void n.add(i({},this.getItem(t)),e,o):n.exists(t)?(n.add(i({},this.getItem(t),{id:r}),e),r):(n.add(this.getItem(t),e),t):(this.add(i({},this.getItem(t),{id:r}),e),r)},t.prototype.move=function(t,e,n,i){if(n&&n!==this&&this.exists(t)){var o=this.getItem(t);return n.exists(t)&&(o.id=d.uid()),i&&(o.parent=i),n.add(o,e),this.remove(o.id),o.id}if(this.getIndex(t)===e)return null;var r=this._order.splice(this.getIndex(t),1)[0];return-1===e&&(e=this._order.length),this._order.splice(e,0,r),this.events.fire(c.DataEvents.change),t},t.prototype.load=function(t,e){return"string"==typeof t&&(t=new a.DataProxy(t)),this._loader.load(t,e)},t.prototype.parse=function(t,e){return this._removeAll(),this._loader.parse(t,e)},t.prototype.$parse=function(t){var e=this.config.approximate;e&&(t=this._approximate(t,e.value,e.maxNum)),this._parse_data(t),this.events.fire(c.DataEvents.change),this.events.fire(c.DataEvents.load)},t.prototype.save=function(t){this._loader.save(t)},t.prototype.isSaved=function(){return!this._changes.order.length},t.prototype.map=function(t){for(var e=[],n=0;n<this._order.length;n++)e.push(t.call(this,this._order[n],n));return e},t.prototype.serialize=function(){return this.map(function(t){var e=i({},t);return Object.keys(e).forEach(function(t){"$"===t[0]&&delete e[t]}),e})},t.prototype._removeAll=function(){this._pull={},this._order=[],this._changes.order=[],this._initOrder=null},t.prototype._addCore=function(t,e){this.config.init&&(t=this.config.init(t)),t.id=t.id?t.id.toString():d.uid(),this._pull[t.id]&&l.dhxError("Item already exist"),this._initOrder&&this._initOrder.length&&this._addToOrder(this._initOrder,t,e),this._addToOrder(this._order,t,e)},t.prototype._removeCore=function(t){this.getIndex(t)>=0&&(this._order=this._order.filter(function(e){return e.id!==t}),delete this._pull[t]),this._initOrder&&this._initOrder.length&&(this._initOrder=this._initOrder.filter(function(e){return e.id!==t}))},t.prototype._parse_data=function(t){for(var e=this._order.length,n=0,i=t;n<i.length;n++){var o=i[n];this.config.init&&(o=this.config.init(o)),o.id=o.id||d.uid(),this._pull[o.id]=o,this._order[e++]=o}},t.prototype._approximate=function(t,e,n){for(var i=t.length,o=e.length,r=Math.floor(i/n),s=Array(Math.ceil(i/r)),a=0,l=0;l<i;l+=r){for(var c=d.copy(t[l]),h=Math.min(i,l+r),u=0;u<o;u++){for(var p=0,f=l;f<h;f++)p+=t[f][e[u]];c[e[u]]=p/(h-l)}s[a++]=c}return s},t.prototype._onChange=function(t,e,n){for(var o=0,r=this._changes.order;o<r.length;o++){var s=r[o];if(s.id===e&&!s.saving)return s.error&&(s.error=!1),s=i({},s,{obj:n,status:t}),void this.events.fire(c.DataEvents.change,[e,t,n])}this._changes.order.push({id:e,status:t,obj:i({},n),saving:!1}),this.events.fire(c.DataEvents.change,[e,t,n])},t.prototype._addToOrder=function(t,e,n){n&&t[n]?(this._pull[e.id]=e,t.splice(n,0,e)):(this._pull[e.id]=e,t.push(e))},t}();e.DataCollection=h},function(t,e,n){"use strict";var i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){void 0===t&&(t={});this.config=i({},{skipHeader:0,nameByHeader:!1,row:"\n",column:","},t),this.config.nameByHeader&&(this.config.skipHeader=1)}return t.prototype.getFields=function(t,e){for(var n=t.trim().split(this.config.column),i={},o=0;o<n.length;o++)i[e?e[o]:o+1]=n[o];return i},t.prototype.getRows=function(t){return t.trim().split(this.config.row)},t.prototype.toJsonArray=function(t){var e=this,n=this.getRows(t),i=this.config.names;if(this.config.skipHeader){var o=n.splice(0,this.config.skipHeader);this.config.nameByHeader&&(i=o[0].trim().split(this.config.column))}return n.map(function(t){return e.getFields(t,i)})},t}();e.CsvDriver=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.prototype.toJsonArray=function(t){return this.getRows(t)},t.prototype.getFields=function(t){return t},t.prototype.getRows=function(t){return"string"==typeof t?JSON.parse(t):t},t}();e.JsonDriver=i},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var s=n(1),a=n(25),l=n(13),c=n(9),d=n(8);function h(t,e,n,i){void 0!==i&&-1!==i&&t[n]&&t[n][i]?t[n].splice(i,0,e):(t[n]||(t[n]=[]),t[n].push(e))}var u=function(t){function e(e,n){var i,o=t.call(this,e,n)||this,r=o._root="_ROOT_"+s.uid();return o._childs=((i={})[r]=[],i),o._initChilds=null,o}return o(e,t),e.prototype.add=function(e,n,i){void 0===n&&(n=-1),void 0===i&&(i=this._root),e.parent=e.parent?e.parent.toString():i,t.prototype.add.call(this,e,n)},e.prototype.getRoot=function(){return this._root},e.prototype.getParent=function(t,e){if(void 0===e&&(e=!1),!this._pull[t])return null;var n=this._pull[t].parent;return e?this._pull[n]:n},e.prototype.getChilds=function(t){return this._childs&&this._childs[t]?this._childs[t]:[]},e.prototype.getLength=function(t){return this._childs[t]?this._childs[t].length:null},e.prototype.removeAll=function(e){if(e)for(var n=0,i=this._childs[e].slice();n<i.length;n++){var o=i[n];this.remove(o.id)}else{t.prototype.removeAll.call(this);var r=this._root;this._initChilds=null,this._childs=((s={})[r]=[],s)}var s},e.prototype.getIndex=function(t){var e=this.getParent(t);return e&&this._childs[e]?s.findIndex(this._childs[e],function(e){return e.id===t}):-1},e.prototype.sort=function(t){var e=this._childs;for(var n in e)this._sort.sort(e[n],t);this.events.fire(d.DataEvents.change)},e.prototype.map=function(t,e,n){void 0===e&&(e=this._root),void 0===n&&(n=!0);var i=[];if(!this.haveChilds(e))return i;for(var o=0;o<this._childs[e].length;o++)if(i.push(t.call(this,this._childs[e][o],o)),n){var r=this.map(t,this._childs[e][o].id,n);i=i.concat(r)}return i},e.prototype.filter=function(t){if(t){this._initChilds||(this._initChilds=this._childs),t.type=t.type||d.TreeFilterType.all;var e={};this._recursiveFilter(t,this._root,0,e),this._childs=e,this.events.fire(d.DataEvents.change)}else this.restoreOrder()},e.prototype.restoreOrder=function(){this._childs=this._initChilds,this._initChilds=null,this.events.fire(d.DataEvents.change)},e.prototype.copy=function(t,n,i,o){if(void 0===i&&(i=this),void 0===o&&(o=this._root),!this.exists(t))return null;var a=r({},this._childs)[t];if(i===this&&!this.canCopy(t,o))return null;if(i instanceof e){if(this.exists(t)){var l=r({},this.getItem(t));i.exists(t)?l.id=s.uid():l.id=t,l.parent=o,i.add(l,n),t=l.id}if(a)for(var c=0,d=a;c<d.length;c++){var h=d[c].id,u=this.getIndex(h);this.copy(h,u,i,t)}return t}i.add(this._pull[t])},e.prototype.move=function(t,n,i,o){if(void 0===i&&(i=this),void 0===o&&(o=this._root),!this.exists(t))return null;if(i!==this){if(!(i instanceof e))return i.add(this._pull[t]),void this.remove(t);var r=this.copy(t,n,i,o);return this.remove(t),r}if(!this.canCopy(t,o))return null;var s=this.getParent(t),a=this.getIndex(t),l=this._childs[s].splice(a,1)[0];return l.parent=o,this._childs[s].length||delete this._childs[s],this.haveChilds(o)||(this._childs[o]=[]),-1===n?n=this._childs[o].push(l):this._childs[o].splice(n,0,l),this.events.fire(d.DataEvents.change),t},e.prototype.eachChild=function(t,e,n){if(void 0===n&&(n=!0),this.haveChilds(t))for(var i=0;i<this._childs[t].length;i++)e.call(this,this._childs[t][i],i),n&&this.eachChild(this._childs[t][i].id,e,n)},e.prototype.getNearId=function(t){return t},e.prototype.loadChilds=function(t,e){var n=this;void 0===e&&(e="json");var i=this.config.autoload+"?id="+t;new l.DataProxy(i).load().then(function(i){i=(e=c.toDataDriver(e)).toJsonArray(i),n._parse_data(i,t),n.events.fire(d.DataEvents.change)})},e.prototype.refreshChilds=function(t,e){void 0===e&&(e="json"),this.removeAll(t),this.loadChilds(t,e)},e.prototype.eachParent=function(t,e,n){void 0===n&&(n=!1);var i=this.getItem(t);if(i&&(n&&e.call(this,i),i.parent!==this._root)){var o=this.getItem(i.parent);e.call(this,o),this.eachParent(i.parent,e)}},e.prototype.haveChilds=function(t){return t in this._childs},e.prototype.canCopy=function(t,e){if(t===e)return!1;var n=!0;return this.eachParent(e,function(e){return e.id===t?n=!1:null}),n},e.prototype._removeCore=function(t){if(this._pull[t]){var e=this.getParent(t);this._childs[e]=this._childs[e].filter(function(e){return e.id!==t}),e===this._root||this._childs[e].length||delete this._childs[e],this._initChilds&&this._initChilds[e]&&(this._initChilds[e]=this._initChilds[e].filter(function(e){return e.id!==t}),e===this._root||this._initChilds[e].length||delete this._initChilds[e]),this._fastDeleteChilds(this._childs,t),this._initChilds&&this._fastDeleteChilds(this._initChilds,t)}},e.prototype._addToOrder=function(t,e,n){var i=this._childs,o=this._initChilds,r=e.parent;this._pull[e.id]=e,h(i,e,r,n),o&&h(o,e,r,n)},e.prototype._parse_data=function(t,e){void 0===e&&(e=this._root);for(var n=0,i=t;n<i.length;n++){var o=i[n];this.config.init&&(o=this.config.init(o)),o.id=o.id?o.id.toString():s.uid(),o.parent=o.parent?o.parent.toString():e,this._pull[o.id]=o,this._childs[o.parent]||(this._childs[o.parent]=[]),this._childs[o.parent].push(o),o.childs&&o.childs instanceof Object&&this._parse_data(o.childs,o.id)}},e.prototype._fastDeleteChilds=function(t,e){if(this._pull[e]&&delete this._pull[e],t[e]){for(var n=0;n<t[e].length;n++)this._fastDeleteChilds(t,t[e][n].id);delete t[e]}},e.prototype._recursiveFilter=function(t,e,n,i){var o=this,r=this._childs[e];if(r){var s=function(e){switch(t.type){case d.TreeFilterType.all:return!0;case d.TreeFilterType.specific:return n===t.specific;case d.TreeFilterType.leafs:return!o.haveChilds(e.id)}};if(t.by&&t.match){var a=function(e){return!s(e)||-1!==e[t.by].toString().toLowerCase().indexOf(t.match.toString().toLowerCase())};i[e]=r.filter(a)}else if(t.rule&&"function"==typeof t.rule){a=function(e){return!s(e)||t.rule(e)};var l=r.filter(a);l.length&&(i[e]=l)}for(var c=0,h=r;c<h.length;c++){var u=h[c];this._recursiveFilter(t,u.id,n+1,i)}}},e}(a.DataCollection);e.TreeCollection=u},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),s=n(3),a=n(6),l=n(5),c=n(30),d=n(59),h=n(14),u=n(31),p=n(17),f=n(32),g=n(33),_=n(35),v=function(t){function e(e,n){var i=this,o=r.extend({shapeType:"card",gridStep:10,reservedWidth:100,editMode:!0,showApply:!0,lineGap:10},n);return(i=t.call(this,e,o)||this).version="2.1.0",i.events=new s.EventSystem(i),i._keyManager=d.keyManager,i._initUI(e),i._setHandlers(),i}return o(e,t),e.prototype.paint=function(){this._layout.paint(),this._diagram.paint()},e.prototype.import=function(t){this._diagram.data.parse(t.data.serialize())},e.prototype.parse=function(t){this._diagram.data.parse(t)},e.prototype.serialize=function(){return this._diagram.data.serialize()},e.prototype._initUI=function(t){var e=this,n=this._layout=new c.Layout(t,{height:"100%",rows:[{id:"top",css:"dhx_topbar shadow-bottom"},{css:"flex editor",cols:[{id:"center",css:"flex"},{id:"right",css:"sidebar"}]}]});this._diagram=new l.Diagram(null,{type:"org",select:!0,toolbar:u.buttons,defaultShapeType:this.config.shapeType,scroll:!0,gridStep:this.config.gridStep,margin:{y:70,x:this.config.reservedWidth},lineGap:this.config.lineGap}),this._sidebar=new g.Sidebar(this._diagram),this._resizer=new p.Controls(this.events,this._diagram),this._diagram.config.$svg=function(t){var n=e._diagram.selection.getId(),i=e._diagram.data.getItem(n);return[e._resizer.toSVG(i,t)]},this._diagram.events.on(l.SelectionEvents.beforeSelect,function(t){return!e._diagram.data.getItem(t).$shape.isConnector()}),this.history=new _.UndoManager(this._diagram.data),this._diagram.events.on(l.DataEvents.load,function(){e.history.reset(),e._diagram.selection.add(e._diagram.data.getId(0))}),this._diagram.data.parse([{id:1}]),n.cell("top").attach(f.topbar,this),n.cell("right").attach(this._sidebar.getUI()),n.cell("center").attach(this._diagram)},e.prototype._setHandlers=function(){var t=this;this._diagram.events.on(l.DiagramEvents.shapeIconClick,function(e){var n=t._diagram.selection.getId();switch(e){case"add":var i={id:r.uid(),parent:n};t._diagram.data.add(i),t._diagram.showItem(i.id);break;case"remove":t._removeShape(n);break;case"vertical":case"horizontal":t._diagram.data.update(n,{dir:e})}}),this.events.on(h.DiagramEditorEvents.zoomIn,function(){t._diagram.config.scale=t._diagram.config.scale||1,t._diagram.config.scale+=.05,t.paint()}),this.events.on(h.DiagramEditorEvents.zoomOut,function(){t._diagram.config.scale=t._diagram.config.scale||1,t._diagram.config.scale-=.05,t.paint()}),this.events.on(h.DiagramEditorEvents.visibility,function(){t.config.editMode=!t.config.editMode,t._checkEditMode(),t._layout.paint()}),this._diagram.events.on(l.DataEvents.change,function(){return t._layout.paint()})},e.prototype._checkEditMode=function(){this._layout.cell("left")&&(this._layout.cell("left").config.hidden=!this.config.editMode),this._layout.cell("right").config.hidden=!this.config.editMode;var t=this._layout.cell("center");if(this.config.editMode)t.attach(this._diagram);else{var e=new l.Diagram(null,{type:this.config.type||"",scroll:!0,gridStep:this.config.gridStep,scale:this._diagram.config.scale,margin:{y:70,x:this.config.reservedWidth}});e.data.parse(this._diagram.data.serialize()),t.attach(e)}this.config.editMode&&(t.config.css=t.config.css.replace(" dhx_preview_mode","")),this.config.editMode||-1!==t.config.css.indexOf(" dhx_preview_mode")||(t.config.css+=" dhx_preview_mode")},e.prototype._removeShape=function(t){t=t||this._diagram.selection.getId(),this._diagram.selection.remove(t),this._diagram.data.remove(t),this._sidebar.clear()},e}(a.View);e.DiagramEditor=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n(57))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10);e.buttons=[{content:i.addIcon,id:"add"},{content:i.horizontalIcon,id:"horizontal",check:function(t){return t.$kids&&t.$kids.length},css:function(t){return"vertical"!==t.dir?"dhx_active":""}},{content:i.verticalIcon,id:"vertical",check:function(t){return t.$kids&&t.$kids.length},css:function(t){return"vertical"===t.dir?"dhx_active":""}},{content:i.removeIcon,id:"remove",check:function(t){return!!t.$parent},css:function(){return"dhx_icon_remove"}}],e.freeEditorButtons=[{content:function(){return i.getIcon("duplicate")},id:"copy",check:function(t){return!t.$shape.isConnector()}},{content:function(){return i.getIcon("connect")},id:"connect",check:function(t){return!t.$shape.isConnector()&&"text"!==t.type},css:function(t){return t.$connectMode?"dhx_active_icon":""}},{content:i.removeIcon,id:"removePoint",check:function(t){return t.$shape.isConnector()&&t.$selectedPoint},css:function(t){return t.$connectMode?"dhx_active_icon":""}},{content:i.removeIcon,id:"remove",css:function(){return"dhx_icon_remove"},check:function(t){return!t.$selectedPoint}}]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(18),r=n(14);function s(t,e){e.data.editor.history.undo(!0),e.data.editor.events.fire(r.DiagramEditorEvents.resetButton)}function a(t,e){e.data.editor.events.fire(r.DiagramEditorEvents.applyButton)}function l(t,e){e.data.editor.history.undo()}function c(t,e){e.data.editor.history.redo()}function d(t,e){var n=e.data.editor;"in"===e.data.dir?n.events.fire("zoomIn"):n.events.fire("zoomOut")}function h(t,e){e.data.editor.events.fire("visibility")}e.topbar=function(t){var e=t.history,n=i.el("button",{class:"dhx_btn dhx_btn--flat",dhx_id:"resetAll",_data:{editor:t},onclick:[s]},o.default.resetChanges),r=i.el("button",{class:"dhx_btn dhx_btn--active",dhx_id:"applyAll",_data:{editor:t},onclick:[a]},o.default.applyAll),u=i.el(".dhx_editor_scale",[i.el(".dhx_zoom_in",{class:"dxi dxi-minus",onclick:[d],_data:{editor:t,dir:"out"}}),i.el(".dhx_scale_value",(100*(t._diagram.config.scale||1)).toFixed(0)+"%"),i.el(".dhx_zoom_out",{class:"dxi dxi-plus",onclick:[d],_data:{editor:t,dir:"in"}})]),p=t.config.editMode?"dxi-eye":"dxi-eye-off dhx_selected",f=i.el(".dhx_visibility",{class:"dxi "+p,onclick:[h],_data:{editor:t,visible:!0}}),g=i.el(".dhx_items_block",[f,u]),_=i.el(".dhx_state_block",[i.el("div",{dhx_id:"undo",_data:{editor:t},onclick:[l],class:"undo dxi dxi-undo "+(e.isUndo()?"undo--active":"")}),i.el("div",{dhx_id:"redo",_data:{editor:t},onclick:[c],class:"redo dxi dxi-redo "+(e.isRedo()?"redo--active":"")})]),v=!1!==t.config.showApply?[n,r,_,g]:[n,_,g];return i.el("div",{class:"dhx_topbar_wrap",style:{display:"flex",justifyContent:"space-between",width:"100%",height:"100%"}},v)}},function(t,e,n){"use strict";var i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var o=n(90),r=n(5),s=n(106),a=n(18),l=function(){function t(t){var e=this;this._diagram=t,"org"===t.config.type?this._ui=new o.Property(null,{title:a.default.editCard}):this._ui=new o.Property(null);var n="org"===t.config.type?s.baseSidebar:s.freeSidebar;this._ui.parseStruct(n),this._ui.attachEvent("onChange",function(){return e.getValues()}),this._diagram.events.on(r.DataEvents.change,function(){return e.setValues()}),this._diagram.events.on(r.SelectionEvents.afterSelect,function(){var t=e._diagram.selection.getItem();if(e._itemType!==t.type){var i=t.$shape.getMetaInfo().map(function(t){return t.type="text"===t.type?"textarea":t.type,t}),o=n.concat(i);t.$shape.isConnector()&&(o=i.slice()),t.$shape.canResize()||(o=i.slice()),e._ui.parseStruct(o),e._itemType=t.type}e.setValues(),e._selectItem="text"}),this._ui.getRootView().hooks={didRedraw:function(){e._selectItem&&(e.select(e._selectItem),e._selectItem=null)}}}return t.prototype.setValues=function(){var t=this._diagram.selection.getItem();if(t){var e=i({},t,{position:{dx:t.dx||0,dy:t.dy||0},size:{width:t.width,height:t.height},color:t.color||""});if("org"!==this._diagram.config.type){var n=t.$shape.isConnector()?{backArrow:e.backArrow||"",forwardArrow:e.forwardArrow||"",connectType:t.connectType||"elbow",cornersRadius:t.cornersRadius}:{};e=i({},t,{align:{horizontal:t.horizontalAlign||"",vertical:t.verticalAlign||""},arrange:{x:t.x||0,y:t.y||0,width:t.width,height:t.height,angle:t.angle||0},fill:t.fill||"",strokeProps:i({stroke:t.stroke||"#2196F3",strokeWidth:t.strokeWidth,strokeType:t.strokeType||"line"},n),textProps:{fontColor:t.fontColor,fontSize:t.fontSize,lineHeight:t.lineHeight,fontStyle:t.fontStyle,fontWeight:t.fontWeight,textAlign:t.textAlign,textVerticalAlign:t.textVerticalAlign}})}this._ui.setValues(e)}},t.prototype.getValues=function(){var t=i({},this._ui.getValues());"org"===this._diagram.config.type?(t.dx=1*t.position.dx,t.dy=1*t.position.dy,t.width=1*t.size.width,t.height=1*t.size.height):(t.arrange&&(t.x=1*t.arrange.x,t.y=1*t.arrange.y,t.width=1*t.arrange.width,t.height=1*t.arrange.height,t.angle=1*t.arrange.angle,delete t.arrange),t.align&&(t.horizontalAlign=t.align.horizontal,t.verticalAlign=t.align.vertical,"bottom"===t.align.vertical&&(t.dy=t.height),"top"===t.align.vertical&&(t.dy=-t.height),"middle"===t.align.vertical&&(t.dy=0),"center"===t.align.horizontal&&(t.dx=0),"left"===t.align.horizontal&&(t.dx=-t.width),"right"===t.align.horizontal&&(t.dx=t.width)),t.strokeProps&&(t.connectType!==t.strokeProps.connectType&&(t.points=null),delete(t=i({},t,t.strokeProps)).strokeProps),t.textProps&&delete(t=i({},t,t.textProps)).textProps),delete t.size,delete t.position;var e=this._diagram.selection.getId();this._diagram.data.update(e,t)},t.prototype.clear=function(){this._ui.clear()},t.prototype.empty=function(){this._ui.parseStruct([{id:"arrange",type:"label",label:"Arrange"},{id:"fill",type:"label",label:"Fill"},{id:"stroke",type:"label",label:"Stroke"},{id:"text",type:"label",label:"Text"}]),this._itemType=null},t.prototype.select=function(t){this._ui.selectItem(t)},t.prototype.isItemsSelected=function(){return this._ui.isItemsSelected()},t.prototype.getUI=function(){return this._ui},t}();e.Sidebar=l},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=n(15),l=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i._map={},e.options=e.options.map(function(t){return i._map[t.id]=t,r({},t)}),i}return o(e,t),e.prototype.setValue=function(t,e){for(var n in t){var i=this._map[n];this._setValue(i,t[n],!0)}e||this._evs.callEvent("onChange")},e.prototype.getValue=function(){for(var t={},e=this._config.options,n=0;n<e.length;n++){var i=e[n];t[i.id]=i.value}return t},e.prototype.clear=function(){for(var t=this._config.options,e={},n=0;n<t.length;n++)e[t[n].id]="";this.setValue(e,!0)},e.prototype.toVDOM=function(){for(var t=this._config.options,e=t.length,n=[],i=[],o=0;o<e;o++){var r=t[o];i.push(s.el("input",{type:"text",name:r.id,value:r.value,index:o,class:r.invalid?"dhx_invalid":"",_ref:this._uid+o,onchange:this._handlers.change,oninput:this._handlers.change})),n.push(s.el("span",r.label))}return s.el(".edit-section",[s.el(".inputs_group",[s.el("span",this._config.label)].concat(i)),s.el(".inputs_group_desc",n)])},e.prototype._changed=function(t){var e=t.target.value,n=t.target.getAttribute("index"),i=this._config.options[n];e!==i.value&&(a.validate(e,i.validate)?(t.target.setAttribute("class",""),this._setValue(i,e)):t.target.setAttribute("class","dhx_invalid"))},e.prototype._setValue=function(t,e,n){var i=t.value;t.value=e,n||this._evs.callEvent("onChange",[t.id,e,i])},e}(n(2).Text);e.Inputs=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(24),o=function(){function t(t){var e=this;this._data=t,this.reset(),this._data.events.on(i.DataEvents.change,function(){e._inProgress||e.push(e._data.serialize())})}return t.prototype.push=function(t){this._position!==this._state.length-1&&(this._state=this._state.slice(0,this._position+1));var e=this._state.length-1,n=new Date,i={time:n,state:t};n.valueOf()-this._state[e].time.valueOf()>500?(this._state.push(i),this._position++):this._state[e]=i},t.prototype.reset=function(){this._inProgress||(this._state=[{time:new Date,state:this._data.serialize()}],this._position=0)},t.prototype.undo=function(t){this.isUndo()&&(t?(this._position=0,this._state=this._state.slice(0,1)):this._position--,this._apply(this._state[this._position]))},t.prototype.redo=function(){this.isRedo()&&(this._position++,this._apply(this._state[this._position]))},t.prototype.isUndo=function(){return this._position>0},t.prototype.isRedo=function(){return this._position+1<=this._state.length-1},t.prototype._apply=function(t){this._inProgress=!0,this._data.parse(t.state),this._inProgress=!1},t}();e.UndoManager=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(5);n(56);var r=n(29),s=n(107),a=n(18),l=window.dhx=window.dhx||{};l.i18n=l.i18n||{},l.i18n.setLocale=function(t,e){var n=l.i18n[t];for(var i in e)n[i]=e[i]},l.i18n.diagram=l.i18n.diagram||a.default;var c=function(){return function(t,e){var n;void 0===e&&(e={}),n="org"===e.type?new r.DiagramEditor(t,e):new s.FreeEditor(t,e),i.extend(this,n)}}();window.dhx.DiagramEditor=c,window.dhx.Diagram=o.Diagram},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),s=n(1),a=n(0),l=n(4),c=n(6),d=n(40),h=n(21),u=n(41),p=n(42),f=n(43),g=n(48),_=n(54),v=n(7),y=function(t){function e(e,n){var i=t.call(this,e,n)||this;i.version="2.1.0",i._set_defaults(),i._init_events(),i._init_struct(),i.config.toolbar&&(i._toolbar=new _.Toolbar(i.events,i.config.toolbar));var o=a.create({render:function(t){return i._render(t)}},i);return i.mount(e,o),i}return o(e,t),e.prototype.locate=function(t){var e=l.locate(t,"dhx_id"),n=this.data.getItem(e);return n?n.$shape:null},e.prototype.collapseItem=function(t){this.events.fire(v.DiagramEvents.beforeCollapse,[t])&&(this.data.update(t,{open:!1}),this.events.fire(v.DiagramEvents.afterCollapse,[t]))},e.prototype.expandItem=function(t){this.events.fire(v.DiagramEvents.beforeExpand,[t])&&(this.data.update(t,{open:!0}),this.events.fire(v.DiagramEvents.afterExpand,[t]))},e.prototype.getScrollState=function(){var t=this.getRootView().node.el;return{x:t.scrollLeft,y:t.scrollTop}},e.prototype.scrollTo=function(t,e){var n=this.getRootView().node.el;n.scrollLeft=t,n.scrollTop=e},e.prototype.showItem=function(t){var e=this.getRootView().node.el,n=this.data.getItem(t);if(n){var i=n.$shape.getBox(),o=e.offsetWidth/2,r=e.offsetHeight/2;this.scrollTo(i.right+10-o,i.bottom+10-r)}},e.prototype._render=function(t){if(this._doNotRepaint&&t.node)return t.node;this._doNotRepaint=!0;var e=this._getContent(),n=e.size,i=e.content;this.events.fire(v.DiagramEvents.beforeRender,[n]);var o=n.x-n.left+2*this.config.margin.x,r=n.y-n.top+2*this.config.margin.y,s="org"===this.config.type?"dhx_org_chart":"dhx_free_diagram";n.left-=this.config.margin.x,n.top-=this.config.margin.y;var l=o*this.config.scale,c=r*this.config.scale,d=null;if(this._toolbar){var h=this.selection.getId();h&&(d=this._toolbar.toSVG(this.data.getItem(h),n))}var u=null;return this.config.$svg&&(u=this.config.$svg(n)),a.el(".dhx_diagram.dhx_widget",this._htmlevents,[a.el(".dhx_wrapper",{class:s},[a.sv("svg",{xmlns:"http://www.w3.org/2000/svg",width:l,height:c,viewBox:n.left+" "+n.top+" "+o+" "+r},[a.sv("defs",[a.sv("filter",{x:0,y:0,width:1,height:1,id:"dhx_text_background"},[a.sv("feFlood",{"flood-color":"white"}),a.sv("feComposite",{in:"SourceGraphic"})])]),a.sv("g",{"shape-rendering":1===this.config.scale&&"org"===this.config.type?"crispedges":"auto"},i)]),d,u])])},e.prototype._init_events=function(){var t=this;this._htmlevents={onscroll:function(){t.events.fire(v.DiagramEvents.scroll,[t.getScrollState()])},onmousedown:l.eventHandler(function(e){return t.locate(e)},{dhx_diagram_item:function(e,n){t.events.fire(v.DiagramEvents.shapeMouseDown,[n.id,e])},dhx_diagram_flow_item:function(e,n){t.events.fire(v.DiagramEvents.shapeMouseDown,[n.id,e])},dhx_diagram_connector:function(e,n){t.events.fire(v.DiagramEvents.shapeMouseDown,[n.id,e,t._getPoint(e.clientX,e.clientY)])}}),onmouseover:l.eventHandler(function(e){return t.locate(e)},{dhx_diagram_item:function(e,n){t.events.fire(v.DiagramEvents.shapeHover,[n.id,e])},dhx_diagram_flow_item:function(e,n){t.events.fire(v.DiagramEvents.shapeHover,[n.id,e])},dhx_diagram_connector:function(e,n){t.events.fire(v.DiagramEvents.shapeHover,[n.id,e])}}),onclick:l.eventHandler(function(e){return t.locate(e)},{dhx_expand_icon:function(e,n){return t.expandItem(n.id)},dhx_hide_icon:function(e,n){return t.collapseItem(n.id)},dhx_diagram_item:function(e,n){t.events.fire(v.DiagramEvents.shapeClick,[n.id]),t.config.select&&t.selection.add(n.id)},dhx_diagram:function(e){var n=e.target,i=n.getAttribute&&(n.getAttribute("class")||"").match(/dhx_diagram\b/),o="svg"===n.tagName;(i||o)&&t.events.fire(v.DiagramEvents.emptyAreaClick,[e])}}),ondblclick:l.eventHandler(function(e){return t.locate(e)},{dhx_diagram_connector:function(e,n){t.events.fire(v.DiagramEvents.shapedDblClick,[n.id,e])},dhx_diagram_item:function(e,n){t.events.fire(v.DiagramEvents.shapedDblClick,[n.id,e])}})}},e.prototype._set_defaults=function(){this.config=s.extend({defaultShapeType:"card",defaultLinkType:"line",lineGap:10,scale:1,margin:{x:40,y:40,itemX:40,itemY:40},gridStep:10},this.config),window.SVGForeignObjectElement||(this.config.defaultShapeType="svg-card")},e.prototype._init_struct=function(){var t=this;this.events=new r.EventSystem(this),this.shapes=f.shapes,this.data=new g.ShapesCollection({init:function(e){var n="from"in e?t.config.defaultLinkType:t.config.defaultShapeType;return e.type=e.type||n,"org"!==t.config.type&&e.from&&(e.stroke=e.stroke||"#2196F3"),e.$shape=f.shapesFactory(e),e},update:function(t){t.$shape.config=t},type:this.config.type},this.events),this.selection=new p.Selection({},this.data,this.events),this.export=new d.Exporter("diagram",this.version,this),this.data.events.on(v.DataEvents.change,function(){return t.paint()}),this.events.on(v.SelectionEvents.afterSelect,function(){return t.paint()})},e.prototype._getContent=function(){var t=this,e=!1;"org"===this.config.type&&(u.placeOrgonogram(this.data,this.config),e=!0);var n={x:0,y:0,left:0,top:0,scale:this.config.scale},i=[],o=[];return this.data.mapVisible(function(r){r.$shape.isConnector()?(e||h.nearestLinkPath(r,t.data.getItem(r.from),t.data.getItem(r.to),t.config),o.push(r.$shape.toSVG())):i.push(r.$shape.toSVG());var s=r.$shape.getBox();s.right>n.x&&(n.x=s.right),s.left<n.left&&(n.left=s.left),s.bottom>n.y&&(n.y=s.bottom),s.top<n.top&&(n.top=s.top)}),{size:n,content:o.concat(i)}},e.prototype._getPoint=function(t,e){var n=this.getRootView().node.el.getBoundingClientRect();return{x:t-n.left-this.config.margin.x,y:e-n.top-this.config.margin.y}},e}(c.View);e.Diagram=y},function(t,e,n){
/**
* Copyright (c) 2017, Leon Sorokin
* All rights reserved. (MIT Licensed)
*
* domvm.js (DOM ViewModel)
* A thin, fast, dependency-free vdom view layer
* @preserve https://github.com/leeoniya/domvm (v3.2.6, micro build)
*/var i;i=function(){"use strict";var t=1,e=2,n=3,i=4,o=5,r="undefined"!=typeof window,s=(r?window:{}).requestAnimationFrame,a={};function l(){}var c=Array.isArray;function d(t){return null!=t}function h(t){return null!=t&&t.constructor===Object}function u(t){var e=typeof t;return"string"===e||"number"===e}function p(t){return"function"==typeof t}function f(t){for(var e=arguments,n=1;n<e.length;n++)for(var i in e[n])t[i]=e[n][i];return t}function g(t,e){for(var n=[],i=e;i<t.length;i++)n.push(t[i]);return n}function _(t,e){for(var n in t)if(t[n]!==e[n])return!1;return!0}function v(t,e){var n=t.length;if(e.length!==n)return!1;for(var i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function y(t){if(!s)return t;var e,n,i;function o(){e=0,t.apply(n,i)}return function(){n=this,i=arguments,e||(e=s(o))}}function x(t){return"o"===t[0]&&"n"===t[1]}function m(t){return"_"===t[0]}function w(t){t&&t.el&&t.el.offsetHeight}function b(t){return null!=t.node&&null!=t.node.el}function k(t,e){switch(e){case"value":case"checked":case"selected":return!0}return!1}function C(t){for(t=t||a;null==t.vm&&t.parent;)t=t.parent;return t.vm}function L(){}var S=L.prototype={constructor:L,type:null,vm:null,key:null,ref:null,data:null,hooks:null,ns:null,el:null,tag:null,attrs:null,body:null,flags:0,_class:null,_diff:null,_dead:!1,_lis:!1,idx:null,parent:null};function M(t){var n=new L;return n.type=e,n.body=t,n}var D={},O=/\[(\w+)(?:=(\w+))?\]/g;var P=1,E=2,I=4,j=8;function T(e,n,i,o){var r=new L;r.type=t,d(o)&&(r.flags=o),r.attrs=n;var s=function(t){var e,n,i,o,r=D[t];if(null==r)for(D[t]=r={tag:(e=t.match(/^[-\w]+/))?e[0]:"div",id:(n=t.match(/#([-\w]+)/))?n[1]:null,class:(i=t.match(/\.([-\w.]+)/))?i[1].replace(/\./g," "):null,attrs:null};o=O.exec(t);)null==r.attrs&&(r.attrs={}),r.attrs[o[1]]=o[2]||"";return r}(e);if(r.tag=s.tag,s.id||s.class||s.attrs){var a=r.attrs||{};if(s.id&&!d(a.id)&&(a.id=s.id),s.class&&(r._class=s.class,a.class=s.class+(d(a.class)?" "+a.class:"")),s.attrs)for(var l in s.attrs)d(a[l])||(a[l]=s.attrs[l]);r.attrs=a}var c=r.attrs;return d(c)&&(d(c._key)&&(r.key=c._key),d(c._ref)&&(r.ref=c._ref),d(c._hooks)&&(r.hooks=c._hooks),d(c._data)&&(r.data=c._data),d(c._flags)&&(r.flags=c._flags),d(r.key)||(d(r.ref)?r.key=r.ref:d(c.id)?r.key=c.id:d(c.name)&&(r.key=c.name+("radio"===c.type||"checkbox"===c.type?c.value:"")))),null!=i&&(r.body=i),r}function A(t,n,r,s){if(t.type!==o&&t.type!==i){var a,l,d;t.parent=n,t.idx=r,t.vm=s,null!=t.ref&&(a=C(t),l=t.ref,d=t,function(t,e,n){for(var i;i=e.shift();)0===e.length?t[i]=n:t[i]=t=t[i]||{}}(a,["refs"].concat(l.split(".")),d));var h=t.hooks,u=s&&s.hooks;(h&&(h.willRemove||h.didRemove)||u&&(u.willUnmount||u.didUnmount))&&function(t){for(;t=t.parent;)t.flags|=P}(t),c(t.body)&&function(t){for(var n=t.body,i=0;i<n.length;i++){var o=n[i];!1===o||null==o?n.splice(i--,1):c(o)?(s=o,a=i--,l=1,(r=n).splice.apply(r,[a,l].concat(s))):(null==o.type&&(n[i]=o=M(""+o)),o.type===e?null==o.body||""===o.body?n.splice(i--,1):i>0&&n[i-1].type===e?(n[i-1].body+=o.body,n.splice(i--,1)):A(o,t,i,null):A(o,t,i,null))}var r,s,a,l}(t)}}var F={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,order:!0,lineClamp:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};function z(t,e){var n,i,o=(t.attrs||a).style,r=e?(e.attrs||a).style:null;if(null==o||u(o))t.el.style.cssText=o;else{for(var s in o){var l=o[s];(null==r||null!=l&&l!==r[s])&&(t.el.style[s]=(n=s,i=l,isNaN(i)||F[n]?i:i+"px"))}if(r)for(var c in r)null==o[c]&&(t.el.style[c]="")}}var B=[];function V(t,e,n,i,o){if(null!=t){var r=n.hooks[e];if(r){if("d"!==e[0]||"i"!==e[1]||"d"!==e[2])return r(n,i);o?w(n.parent)&&r(n,i):B.push([r,n,i])}}}function $(t){var e;if(B.length)for(w(t.node);e=B.shift();)e[0](e[1],e[2])}var H=r?document:null;function R(t){return t.nextSibling}function G(t,e,n){var i=e._node,o=i.vm;if(c(i.body))if((i.flags&P)===P)for(var r=0;r<i.body.length;r++)G(e,i.body[r].el);else Z(i);delete e._node,t.removeChild(e),V(i.hooks,"didRemove",i,null,n),null!=o&&(V(o.hooks,"didUnmount",o,o.data,n),o.node=null)}function U(t,e){var n=e._node;if(!n._dead){var i,o,r,s,a=function t(e){var n=e.vm,i=null!=n&&V(n.hooks,"willUnmount",n,n.data),o=V(e.hooks,"willRemove",e);if((e.flags&P)===P&&c(e.body))for(var r=0;r<e.body.length;r++)t(e.body[r]);return i||o}(n);null!=a&&("object"==typeof(s=a)&&p(s.then))?(n._dead=!0,a.then((i=G,o=[t,e,!0],function(){return i.apply(r,o)}))):G(t,e)}}function Z(t){for(var e=t.body,n=0;n<e.length;n++){var i=e[n];delete i.el._node,null!=i.vm&&(i.vm.node=null),c(i.body)&&Z(i)}}function N(t){var e=t.el;if(0==(t.flags&P))c(t.body)&&Z(t),e.textContent=null;else{var n=e.firstChild;do{var i=R(n);U(e,n)}while(n=i)}}function W(t,e,n){var i=e._node,o=null!=e.parentNode,r=e!==n&&o?null:i.vm;null!=r&&V(r.hooks,"willMount",r,r.data),V(i.hooks,o?"willReinsert":"willInsert",i),t.insertBefore(e,n),V(i.hooks,o?"didReinsert":"didInsert",i),null!=r&&V(r.hooks,"didMount",r,r.data)}function Y(t,e,n){W(t,e,n?R(n):null)}var K={};var X=l;function q(t,e,n){t[e]=n}function Q(t,e,n,i,o){var r=t.apply(o,e.concat([n,i,o,o.data]));o.onevent(n,i,o,o.data,e),X.call(null,n,i,o,o.data,e),!1===r&&(n.preventDefault(),n.stopPropagation())}function J(t){var e,n,i=function(t){for(;null==t._node;)t=t.parentNode;return t._node}(t.target),o=C(i),r=t.currentTarget._node.attrs["on"+t.type];if(c(r))Q(e=r[0],n=r.slice(1),t,i,o);else for(var s in r)if(t.target.matches(s)){var a=r[s];c(a)?(e=a[0],n=a.slice(1)):(e=a,n=[]),Q(e,n,t,i,o)}}function tt(t,e,n,i){if(n!==i){var o=t.el;null==n||p(n)?q(o,e,n):null==i&&q(o,e,J)}}function et(t,e,n){"."===e[0]&&(e=e.substr(1),n=!0),n?t.el[e]="":t.el.removeAttribute(e)}function nt(t,e,n){var i,o,r,s,l,c,d=t.attrs||a,h=e.attrs||a;if(d===h);else{for(var u in d){var p=d[u],f=k(t.tag,u),g=f?t.el[u]:h[u];p===g||("style"===u?z(t,e):m(u)||(x(u)?tt(t,u,p,g):(o=u,r=p,s=f,l=n,c=void 0,c=(i=t).el,null==r?!l&&et(i,o,!1):null!=i.ns?c.setAttribute(o,r):"class"===o?c.className=r:"id"===o||"boolean"==typeof r||s?c[o]=r:"."===o[0]?c[o.substr(1)]=r:c.setAttribute(o,r))))}for(var u in h)!(u in d)&&!m(u)&&et(t,u,k(t.tag,u)||x(u))}}function it(t,e,n,o){return t.type===i&&(e=t.data,n=t.key,o=t.opts,t=t.view),new yt(t,e,n,o)}function ot(t){for(var e=0;e<t.body.length;e++){var r=t.body[e],s=r.type;if(s<=n)W(t.el,rt(r));else if(s===i){s=(a=it(r.view,r.data,r.key,r.opts)._redraw(t,e,!1)).node.type,W(t.el,rt(a.node))}else if(s===o){var a;(a=r.vm)._redraw(t,e),s=a.node.type,W(t.el,a.node.el)}}}function rt(i,o){var r,s,l,d;return null==i.el&&(i.type===t?(i.el=o||(l=i.tag,null!=(d=i.ns)?H.createElementNS(d,l):H.createElement(l)),null!=i.attrs&&nt(i,a,!0),(i.flags&j)===j&&i.body.body(i),c(i.body)?ot(i):null!=i.body&&""!==i.body&&(i.el.textContent=i.body)):i.type===e?i.el=o||(s=i.body,H.createTextNode(s)):i.type===n&&(i.el=o||(r=i.body,H.createComment(r)))),i.el._node=i,i.el}window.lisMove=ct;var st=1,at=2;function lt(t,e,n,i,o,r,s,a){return function(l,c,d,h,u,p){var f,g;if(null!=h[i]){if(null==(f=h[i]._node))return void(h[i]=t(h[i]));if(f.parent!==l)return g=t(h[i]),null!=f.vm?f.vm.unmount(!0):U(c,h[i]),void(h[i]=g)}if(h[o]==u)return at;if(null==h[o].el)n(c,rt(h[o]),h[i]),h[o]=e(h[o],d);else if(h[o].el===h[i])h[o]=e(h[o],d),h[i]=t(h[i]);else{if(p||f!==h[s])return p&&null!=h[i]?ct(t,e,n,i,o,c,d,f,h):st;g=h[i],h[i]=t(g),a(c,g,h[r]),h[r]=g}}}function ct(t,e,n,i,o,r,s,a,l){if(a._lis)n(r,l[o].el,l[i]),l[o]=e(l[o],s);else{var c=function(t,e){var n,i=0,o=e.length-1;if(o<=2147483647)for(;i<=o;){if(e[n=i+o>>1]===t)return n;e[n]<t?i=n+1:o=n-1}else for(;i<=o;){if(e[n=Math.floor((i+o)/2)]===t)return n;e[n]<t?i=n+1:o=n-1}return i==e.length?null:i}(a.idx,l.tombs);a._lis=!0;var d=t(l[i]);n(r,l[i],null!=c?s[l.tombs[c]].el:c),null==c?l.tombs.push(a.idx):l.tombs.splice(c,0,a.idx),l[i]=d}}var dt=lt(R,function(t,e){return e[t.idx+1]},W,"lftSib","lftNode","rgtSib","rgtNode",Y),ht=lt(function(t){return t.previousSibling},function(t,e){return e[t.idx-1]},Y,"rgtSib","rgtNode","lftSib","lftNode",W);function ut(t,e,n,i){for(var o=Array.prototype.slice.call(e.childNodes),r=[],s=0;s<o.length;s++){var a=o[s]._node;a.parent===t&&r.push(a.idx)}for(var l=function(t){var e,n,i=t.slice(),o=[];o.push(0);for(var r=0,s=t.length;r<s;++r){var a=o[o.length-1];if(t[a]<t[r])i[r]=a,o.push(r);else{for(e=0,n=o.length-1;e<n;){var l=(e+n)/2|0;t[o[l]]<t[r]?e=l+1:n=l}t[r]<t[o[e]]&&(e>0&&(i[r]=o[e-1]),o[e]=r)}}for(n=o[(e=o.length)-1];e-- >0;)o[e]=n,n=i[n];return o}(r).map(function(t){return r[t]}),c=0;c<l.length;c++)n[l[c]]._lis=!0;for(i.tombs=l;;){if(dt(t,e,n,i,null,!0)===at)break}}function pt(t){return t.el._node.parent!==t.parent}function ft(t,e,n){return e[n]}function gt(t,e,n){for(;n<e.length;n++){var r=e[n];if(null!=r.vm){if(t.type===i&&r.vm.view===t.view&&r.vm.key===t.key||t.type===o&&r.vm===t.vm)return r}else if(!pt(r)&&t.tag===r.tag&&t.type===r.type&&t.key===r.key&&(t.flags&~P)==(r.flags&~P))return r}return null}function _t(t,e,n){return e[e._keys[t.key]]}function vt(r,s){V(s.hooks,"willRecycle",s,r);var l=r.el=s.el,d=s.body,h=r.body;if(l._node=r,r.type!==e||h===d){null==r.attrs&&null==s.attrs||nt(r,s,!1);var u=c(d),p=c(h),f=(r.flags&j)===j;u?p||f?function(e,r){var s=e.body,l=s.length,c=r.body,d=c.length,h=(e.flags&j)===j,u=(e.flags&E)===E,p=(e.flags&I)===I,f=!u&&e.type===t,g=!0,_=p?_t:u||h?ft:gt;if(p){for(var v={},y=0;y<c.length;y++)v[c[y].key]=y;c._keys=v}if(f&&0===l)return N(r),void(h&&(e.body=[]));var x,m,w=0,k=!1,C=0;if(h)var L={key:null},S=Array(l);for(var y=0;y<l;y++){if(h){var M=!1,D=null;g&&(p&&(L.key=s.key(y)),x=_(L,c,C)),null!=x?(m=x.idx,!0===(D=s.diff(y,x))?((O=x).parent=e,O.idx=y,O._lis=!1):M=!0):M=!0,M&&(A(O=s.tpl(y),e,y),O._diff=null!=D?D:s.diff(y),null!=x&&vt(O,x)),S[y]=O}else{var O=s[y],P=O.type;if(P<=n)(x=g&&_(O,c,C))&&(vt(O,x),m=x.idx);else if(P===i){if(x=g&&_(O,c,C)){m=x.idx;var T=x.vm._update(O.data,e,y)}else var T=it(O.view,O.data,O.key,O.opts)._redraw(e,y,!1);P=T.node.type}else if(P===o){var F=b(O.vm),T=O.vm._update(O.data,e,y,F);P=T.node.type}}if(!p&&null!=x&&(m===C?++C===d&&l>d&&(x=null,g=!1):k=!0,d>100&&k&&++w%10==0))for(;C<d&&pt(c[C]);)C++}h&&(e.body=S);f&&function(t,e){var n=e.body,i=t.el,o=t.body,r={lftNode:o[0],rgtNode:o[o.length-1],lftSib:(n[0]||a).el,rgtSib:(n[n.length-1]||a).el};t:for(;;){for(;;){var s=dt(t,i,o,r,null,!1);if(s===st)break;if(s===at)break t}for(;;){var l=ht(t,i,o,r,r.lftNode,!1);if(l===st)break;if(l===at)break t}ut(t,i,o,r);break}}(e,r)}(r,s):h!==d&&(null!=h?l.textContent=h:N(s)):p?(N(s),ot(r)):h!==d&&(l.firstChild?l.firstChild.nodeValue=h:l.textContent=h),V(s.hooks,"didRecycle",s,r)}else l.nodeValue=h}function yt(t,e,n,i){var o=this;o.view=t,o.data=e,o.key=n,i&&(o.opts=i,o.config(i));var r=h(t)?t:t.call(o,o,e,n,i);p(r)?o.render=r:(o.render=r.render,o.config(r)),o._redrawAsync=y(function(t){return o.redraw(!0)}),o._updateAsync=y(function(t){return o.update(t,!0)}),o.init&&o.init.call(o,o,o.data,o.key,i)}var xt=yt.prototype={constructor:yt,_diff:null,init:null,view:null,key:null,data:null,state:null,api:null,opts:null,node:null,hooks:null,onevent:l,refs:null,render:null,mount:function(t,e){var n=this;e?(N({el:t,flags:0}),n._redraw(null,null,!1),t.nodeName.toLowerCase()!==n.node.tag?(rt(n.node),W(t.parentNode,n.node.el,t),t.parentNode.removeChild(t)):W(t.parentNode,rt(n.node,t),t)):(n._redraw(null,null),t&&W(t,n.node.el));t&&$(n);return n},unmount:function(t){var e=this.node;U(e.el.parentNode,e.el),t||$(this)},config:function(t){var e=this;t.init&&(e.init=t.init),t.diff&&(e.diff=t.diff),t.onevent&&(e.onevent=t.onevent),t.hooks&&(e.hooks=f(e.hooks||{},t.hooks)),t.onemit&&(e.onemit=f(e.onemit||{},t.onemit))},parent:function(){return C(this.node.parent)},root:function(){for(var t=this.node;t.parent;)t=t.parent;return t.vm},redraw:function(t){return t?this._redraw(null,null,b(this)):this._redrawAsync(),this},update:function(t,e){return e?this._update(t,null,null,b(this)):this._updateAsync(t),this},_update:function(t,e,n,i){var o=this;null!=t&&o.data!==t&&(V(o.hooks,"willUpdate",o,t),o.data=t);return o._redraw(e,n,i)},_redraw:function(t,e,n){var i,o,r=null==t,s=this,a=s.node&&s.node.el&&s.node.el.parentNode,l=s.node;if(null!=s.diff&&(i=s._diff,s._diff=o=s.diff(s,s.data),null!=l)){var d=c(i)?v:_,h=i===o||d(i,o);if(h)return mt(s,l,t,e)}a&&V(s.hooks,"willRedraw",s,s.data);var u=s.render.call(s,s,s.data,i,o);if(u===l)return mt(s,l,t,e);s.refs=null,null!=s.key&&u.key!==s.key&&(u.key=s.key);s.node=u,t?(A(u,t,e,s),t.body[e]=u):l&&l.parent?(A(u,l.parent,l.idx,s),l.parent.body[l.idx]=u):A(u,null,null,s);if(!1!==n)if(l)if(l.tag!==u.tag||l.key!==u.key){l.vm=u.vm=null;var p=l.el.parentNode,f=R(l.el);U(p,l.el),W(p,rt(u),f),l.el=u.el,u.vm=s}else vt(u,l);else rt(u);a&&V(s.hooks,"didRedraw",s,s.data),r&&a&&$(s);return s},_redrawAsync:null,_updateAsync:null};function mt(t,e,n,i){return null!=n&&(n.body[i]=e,e.idx=i,e.parent=n,e._lis=!1),t}function wt(t,e,n,i){var o,r;return null==n?h(e)?o=e:r=e:(o=e,r=n),T(t,o,r,i)}var bt="http://www.w3.org/2000/svg";function kt(t,e,n,i){this.view=t,this.data=e,this.key=n,this.opts=i}function Ct(t){this.vm=t}kt.prototype={constructor:kt,type:i,view:null,data:null,key:null,opts:null},Ct.prototype={constructor:Ct,type:o,vm:null};var Lt={config:function(t){var e;X=t.onevent||X,t.onemit&&(e=t.onemit,f(K,e))},ViewModel:yt,VNode:L,createView:it,defineElement:wt,defineSvgElement:function(t,e,n,i){var o=wt(t,e,n,i);return o.ns=bt,o},defineText:M,defineComment:function(t){var e=new L;return e.type=n,e.body=t,e},defineView:function(t,e,n,i){return new kt(t,e,n,i)},injectView:function(t){return new Ct(t)},injectElement:function(e){var n=new L;return n.type=t,n.el=n.key=e,n},lazyList:function(t,e){var n=t.length,i={items:t,length:n,key:function(n){return e.key(t[n],n)},diff:function(n,i){var o=e.diff(t[n],n);if(null==i)return o;var r=i._diff;return(o===r||c(r)?v(o,r):_(o,r))||o},tpl:function(n){return e.tpl(t[n],n)},map:function(t){return e.tpl=t,i},body:function(t){for(var e=Array(n),o=0;o<n;o++){var r=i.tpl(o);r._diff=i.diff(o),e[o]=r,A(r,t,o)}t.body=e}};return i},FIXED_BODY:E,DEEP_REMOVE:P,KEYED_LIST:I,LAZY_LIST:j};function St(t){var e,n,i=arguments,o=i.length;if(o>1){var r=1;h(i[1])&&(n=i[1],r=2),e=o===r+1&&(u(i[r])||c(i[r])||n&&(n._flags&j)===j)?i[r]:g(i,r)}return T(t,n,e)}return S.patch=function(t,e){!function(t,e,n){if(null!=e.type){if(null!=t.vm)return;A(e,t.parent,t.idx,null),t.parent.body[t.idx]=e,vt(e,t),n&&w(e),$(C(e))}else{var i=Object.create(t);i.attrs=f({},t.attrs);var o=f(t.attrs,e);if(null!=t._class){var r=o.class;o.class=null!=r&&""!==r?t._class+" "+r:t._class}nt(t,i),n&&w(t)}}(this,t,e)},xt.emit=function(t){var e=this,n=e,i=g(arguments,1).concat(n,n.data);do{var o=e.onemit,r=o?o[t]:null;if(r){r.apply(e,i);break}}while(e=e.parent());K[t]&&K[t].apply(e,i)},xt.onemit=null,xt.body=function(){return function t(e,n){var i=e.body;if(c(i))for(var o=0;o<i.length;o++){var r=i[o];null!=r.vm?n.push(r.vm):t(r,n)}return n}(this.node,[])},Lt.defineElementSpread=St,Lt.defineSvgElementSpread=function(){var t=St.apply(null,arguments);return t.ns=bt,t},Lt},t.exports=i()},function(t,e){if(Element&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e,n){this._name=t,this._version=e,this._view=n}return t.prototype.pdf=function(t){this._rawExport(t,"pdf",this._view)},t.prototype.png=function(t){this._rawExport(t,"png",this._view)},t.prototype._rawExport=function(t,e,n){(t=t||{}).url=t.url||"https://export.dhtmlx.ru/"+this._name+"/"+e,t.url+="/"+this._version;var i=n.getRootView().node.el.innerHTML,o=document.createElement("form");o.style.cssText="position:absolute; left:-1000px; visibility:hidden;",o.setAttribute("method","POST"),o.setAttribute("action",t.url),o.innerHTML="<input type='hidden' name='raw'><input type='hidden' name='config'>",o.childNodes[0].value=i,o.childNodes[1].value=JSON.stringify(t),document.body.appendChild(o),o.submit(),setTimeout(function(){o.parentNode.removeChild(o)},100)},t}();e.Exporter=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(21),o=["#FF9800","#607D8B","#00C7B5","#03A9F4","#9575CD","#F06292"];e.placeOrgonogram=function(t,e){var n=t.getRoots();if(1===n.length){var r=t.getItem(n[0]);!function t(e,n,i,o,r){var s=n.$kids,a="vertical"===n.dir,l=a?i.margin.itemX/2:0,c=0;if(!1!==n.open&&s){for(var d=0,h=0;h<s.length;h++){var u=e.getItem(s[h][1]);if(!u.hidden){var p=t(e,u,i,o+l,l);a?c=Math.max(c,p):c+=p,d++}}d&&!a&&(c+=(d-1)*i.margin.itemX),n.$count=d}if(c=Math.max(n.width,c),a)n.x=o;else{var f=i.gridStep||1,g=(c-n.width)/2+o;n.x=Math.ceil(g/f)*f}return n.y=0,n.$width=c,c+r}(t,r,e,0,0),function t(e,n,r,s,a,l){var c=n.$kids,d="vertical"===n.dir,h=0;if(n.x+=r,n.y+=s,a.gridStep&&(n.y=Math.ceil(n.y/a.gridStep)*a.gridStep),s+=n.height+a.margin.itemY,!1!==n.open&&c)for(var u=void 0,p=0;p<c.length;p++)if(!(u=e.getItem(c[p][1])).hidden){var f=t(e,u,r,s,a,l+1);d?(s+=f+a.margin.itemY,h+=f+a.margin.itemY):(h=Math.max(h,f+a.margin.itemY),r+=u.$width+a.margin.itemX),i.directLinkPath(e.getItem(c[p][0]),n,u,a)}if(c){var g=e.getItem(c[0][1]).color;n.$expandColor=g||o[(l+1)%o.length]}return n.color=n.color||o[l%o.length],n.height+h}(t,r,0,0,e,0)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),o=n(7),r=function(){function t(t,e,n){var r=this;this.events=n||new i.EventSystem,this._data=e,this._data.events.on(o.DataEvents.removeAll,function(){r._selected=null}),this._data.events.on(o.DataEvents.change,function(){if(r._selected){var t=r._data.getNearId(r._selected);if(t!==r._selected){var e=r._data.getItem(r._selected);e&&(e.$selected=!1),r._selected=null,t&&r.add(t)}}})}return t.prototype.getId=function(){return this._selected},t.prototype.getItem=function(){return this._selected?this._data.getItem(this._selected):null},t.prototype.remove=function(t){return!(t=t||this._selected)||!!this.events.fire(o.SelectionEvents.beforeUnSelect,[t])&&(this._data.update(t,{$selected:!1},!0),this._selected=null,this.events.fire(o.SelectionEvents.afterUnSelect,[t]),!0)},t.prototype.add=function(t){this._selected!==t&&(this.remove(),this.events.fire(o.SelectionEvents.beforeSelect,[t])&&(this._selected=t,this._data.update(t,{$selected:!0},!0),this.events.fire(o.SelectionEvents.afterSelect,[t])))},t}();e.Selection=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(44),o=n(16),r=n(45),s=n(46),a=n(23),l=n(47);for(var c in e.shapes={line:i.Line,dash:i.Line,card:o.DiagramCard,"img-card":r.DiagramImgCard,"svg-card":s.DiagramSvgCard,text:l.TextShape},a.renders)e.shapes[c]=a.FlowShape;e.shapesFactory=function(t){var n=e.shapes[t.type];return n||(n=e.shapes.card),new n(t)}},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.isConnector=function(){return!0},e.prototype.getMetaInfo=function(){return[{id:"strokeProps",type:"stroke",label:"Stroke",connector:!0}]},e.prototype.setDefaults=function(t){return t.connectType=t.connectType||"elbow",t.stroke=t.stroke||"#CCC",t.strokeWidth=t.strokeWidth||2,t.cornersRadius=t.cornersRadius||0,t},e.prototype.toSVG=function(){var t=this.config.$selected;return s.sv("g",{dhx_id:this.config.id||"",_key:this.config.id,class:"dhx_diagram_connector "+this.getCss()},[s.sv("path",{d:this._getPoints(),fill:"none",class:"dhx_diagram_line "+(t?"dhx_diagram_line--selected":""),"stroke-dasharray":this._getType(),"stroke-linejoin":"round",stroke:this.config.stroke,"stroke-width":this.config.strokeWidth})].concat(this._getArrowLine()))},e.prototype.getBox=function(){var t=r({},this.config),e=t.points.reduce(function(t,e){return t.x=Math.max(t.x,e.x),t.y=Math.max(t.y,e.y),t},{x:0,y:0}),n=e.x-t.x,i=e.y-t.y,o=t.x,s=o+n,a=t.y;return{left:o,right:s,top:a,bottom:a+i}},e.prototype._getType=function(){if(this.config.strokeType&&(this.config.type=this.config.strokeType),this.config.type)switch(this.config.type){case"line":return"";case"dash":return"5, 5";default:return""}},e.prototype._getPoints=function(){return this._getStringPoints()},e.prototype._getStringPoints=function(){return this.config.width=Math.abs(this.config.points[this.config.points.length-1].x-this.config.points[0].x),this.config.height=Math.abs(this.config.points[this.config.points.length-1].y-this.config.points[0].y),this.config.x=this.config.points[0].x,this.config.y=this.config.points[0].y,"M "+this.config.x+","+this.config.y+this.config.points.map(function(t){return t.x1&&t.y1?"Q"+t.x1+","+t.y1+" "+t.x+","+t.y:"L "+t.x+","+t.y}).join(" ")},e.prototype._getArrowLine=function(){var t=this.config.points,e=this.config.backArrow,n=this.config.forwardArrow;if(e||n)return[e?this._arrow(t[1],t[0]):null,n?this._arrow(t[t.length-2],t[t.length-1]):null]},e.prototype._arrow=function(t,e){var n=t.x!==e.x,i=(n?t.x<e.x:t.y<e.y)?1:-1,o=e.x-(n?i:0),r=e.y-(n?0:i),a=e.x-(n?7*i:5*i),l=e.y-(n?5:7*i),c=e.x+(n?-7*i:5*i),d=e.y-(n?-5:7*i);return s.sv("path",{d:"M"+a+","+l+" L"+o+","+r+" L"+c+","+d+" Z",class:"dhx_diagram_arrow","shape-rendering":"auto",stroke:this.config.stroke,fill:this.config.stroke})},e}(n(12).BaseShape);e.Line=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getMetaInfo=function(){return[{id:"title",label:"Title",type:"text"},{id:"text",label:"Text",type:"text"},{id:"img",label:"Image",type:"image"}]},e.prototype.setDefaults=function(t){return t.width=t.width||210,t.height=t.height||90,t},e.prototype.getCss=function(){return"dhx_diagram_image "+t.prototype.getCss.call(this)},e.prototype.text=function(){var t=this.config;return[r.el("div",{class:"dhx_content_img",style:"background-image:url("+(t.img||"")+");background-color:"+t.color+";"}),r.el("div",{class:"dhx_content_title"},[t.title||null]),r.el("div",{class:"dhx_content_text "+(t.title?"":"dhx_content_text-alone")},[t.text||null])]},e}(n(16).DiagramCard);e.DiagramImgCard=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),s=n(16),a=n(22),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.toSVG=function(){var t=this.config,e=this.getCenter(),n=t.$selected?t.color:"#E4E4E4",i=this.getCoords(t);return r.sv("g",{transform:"translate("+i.x+","+i.y+") rotate("+(t.angle||0)+","+e.x+","+e.y+")",class:this.getCss(),dhx_id:t.id},[r.sv("rect",{class:"dhx_item_shape",id:t.id,height:t.height,width:t.width,rx:1,ry:1,stroke:n,"stroke-width":1}),r.sv("text",{y:t.height/2,dy:"-5",x:t.width/2,"text-anchor":"middle"},[t.title?r.sv("tspan",{class:"dhx_content_title"},[t.title||""]):null,r.sv("tspan",{class:"dhx_content_text",x:t.width/2,dy:t.title?"1.5em":".5em"},[t.text||""])]),a.getHeaderTpl(t),a.getCircleTpl(t)])},e.prototype.getMetaInfo=function(){return[{id:"title",label:"Title",type:"text"},{id:"text",label:"Text",type:"text"}]},e.prototype.getCss=function(){return"dhx_diagram_svg-card "+(t.prototype.getCss.call(this)||"")},e}(s.DiagramCard);e.DiagramSvgCard=l},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.toSVG=function(){var t=this.config,e=this.getCoords(t);return r.sv("g",{_key:t.id,transform:"translate("+e.x+","+e.y+") ","text-anchor":"middle",class:"dhx_item_shape dhx_diagram_flow_item "+this.getCss(),dhx_id:t.id},[this._getText()])},e.prototype.getMetaInfo=function(){return[{id:"text",label:"Content",type:"text"},{id:"textProps",type:"textProps",label:"Text",alignments:!1}]},e.prototype.canResize=function(){return!1},e.prototype.setDefaults=function(t){return t.width=0,t.height=0,t.fontColor="rgba(0,0,0,0.70)",t.fontSize=14,t.textAlign="center",t.lineHeight=14,t.fontStyle="normal",t.textVerticalAlign="center",t},e.prototype._getText=function(){var t=this.config;if(t.text){var e=t.text.split(/\r?\n/).filter(function(t){return t.trim()}),n=1===e.length?0:.6,i=e.map(function(t){var e=r.sv("tspan",{x:0,dy:n+"em"},t.trim());return n=1.2,e});return r.sv("text",{y:t.height,x:t.width,"text-anchor":"middle",class:"dhx_item_text","font-size":t.fontSize,"font-style":t.fontStyle,fill:t.fontColor},i)}},e}(n(12).BaseShape);e.TextShape=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(24),s=n(7),a=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i._roots=[],i._orgMode="org"===e.type,i.events.on(s.DataEvents.change,function(t,e,n){"remove"===e&&(i._removeNested(n),i._removeCore(n.$parent)),"add"===e&&n.parent&&i._addCore({from:n.parent,to:n.id},-1),i._mark_chains()}),i}return o(e,t),e.prototype.getNearId=function(t){var e=this._pull[t];if(!e)return this._order.length?this._order[0].id:"";for(var n=e;this._orgMode&&n.$parent;)if(!1===(n=this._pull[this._pull[n.$parent].from]).open)return n.id;return e.id},e.prototype.mapVisible=function(t){var e=this,n=[];if(this._orgMode)for(var i=this.getRoots(),o=0;o<i.length;o++)this._eachBranch(this.getItem(i[o]),t,n);else this.map(function(i){if(!i.hidden){if(i.$shape.isConnector()){var o=e.getItem(i.from)||{},r=e.getItem(i.to)||{};if(o.hidden||r.hidden)return}n.push(t(i))}});return n},e.prototype.getRoots=function(){return this._roots},e.prototype._removeNested=function(t){var e=t.$kids;if(e)for(var n=0;n<e.length;n++)this._orgMode&&(this._removeNested(this.getItem(e[n][1])),this._removeCore(e[n][1])),this._removeCore(e[n][0])},e.prototype._eachBranch=function(t,e,n){if(!t.hidden&&(n.push(e(t)),!1!==t.open)){var i=t.$kids;if(i)for(var o=0;o<i.length;o++){var r=this.getItem(i[o][1]);r.hidden||(n.push(e(this.getItem(i[o][0]))),this._eachBranch(r,e,n))}}},e.prototype._parse_data=function(e){for(var n=[],i=!1,o=0;o<e.length;o++){var r=e[o];r.parent&&!i&&n.push({from:r.parent,to:r.id}),r.from&&(i=!0)}n.length&&!i&&(e=e.concat(n)),t.prototype._parse_data.call(this,e)},e.prototype._mark_chains=function(){var t=this;this._roots=[];var e={},n={};this.map(function(t){if(t.$shape.isConnector()){var i=t;n[i.to]=i.id,(e[i.from]=e[i.from]||[]).push([t.id,i.to])}}),this.map(function(i){i.$shape.isConnector()||(i.$parent=n[i.id],i.$kids=e[i.id],i.$parent||t._roots.push(i.id))})},e}(r.DataCollection);e.ShapesCollection=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(9),o=function(){function t(t,e){this._parent=t,this._changes=e}return t.prototype.load=function(t,e){var n=this;return this._parent.loadData=t.load().then(function(t){n._parent.removeAll(),n.parse(t,e)})},t.prototype.parse=function(t,e){void 0===e&&(e="json"),t=(e=i.toDataDriver(e)).toJsonArray(t),this._parent.$parse(t)},t.prototype.save=function(t){for(var e=this,n=function(n){if(n.saving||n.pending)i.dhxWarning("item is saving");else{var r=o._findPrevState(n.id);if(r&&r.saving){var s=new Promise(function(o,s){r.promise.then(function(){n.pending=!1,o(e._setPromise(n,t))}).catch(function(o){e._removeFromOrder(r),e._setPromise(n,t),i.dhxWarning(o),s(o)})});o._addToChain(s),n.pending=!0}else o._setPromise(n,t)}},o=this,r=0,s=this._changes.order;r<s.length;r++){n(s[r])}this._parent.saveData.then(function(){e._saving=!1})},t.prototype._setPromise=function(t,e){var n=this;return t.promise=e.save(t.obj,t.status),t.promise.then(function(){n._removeFromOrder(t)}).catch(function(e){t.saving=!1,t.error=!0,i.dhxError(e)}),t.saving=!0,this._saving=!0,this._addToChain(t.promise),t.promise},t.prototype._addToChain=function(t){this._parent.saveData&&this._saving?this._parent.saveData=this._parent.saveData.then(function(){return t}):this._parent.saveData=t},t.prototype._findPrevState=function(t){for(var e=0,n=this._changes.order;e<n.length;e++){var i=n[e];if(i.id===t)return i}return null},t.prototype._removeFromOrder=function(t){this._changes.order=this._changes.order.filter(function(e){return!i.isEqualObj(e,t)})},t}();e.Loader=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(9),o=function(){function t(){}return t.prototype.sort=function(t,e){var n=this;e.rule&&"function"==typeof e.rule?this._sort(t,e):e.by&&(e.rule=function(t,o){var r=n._checkVal(e.as,t[e.by]),s=n._checkVal(e.as,o[e.by]);return i.naturalCompare(r.toString(),s.toString())},this._sort(t,e))},t.prototype._checkVal=function(t,e){return t?t.call(this,e):e},t.prototype._sort=function(t,e){var n=this,i={asc:1,desc:-1};return t.sort(function(t,o){return e.rule.call(n,t,o)*(i[e.dir]||i.asc)})},t}();e.Sort=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o,r=n(4),s=n(11),a=n(52),l=n(28),c=n(8);function d(t){var e=t.y,n=function(t){for(t instanceof Event&&(t=t.target);t&&t.getAttribute;){if(t.getAttribute("dhx_id"))return t;t=t.parentNode}}(t);if(!n)return null;var i=n.childNodes[0].getBoundingClientRect();return(e-i.top)/i.height}(o=i||(i={}))[o.top=0]="top",o[o.bot=1]="bot",o[o.in=2]="in";var h=function(){function t(){var t=this;this._transferData={},this._canMove=!0,this._ghostTopPadding=-17,document.addEventListener("mousemove",function(e){return t._onMouseMove(e)}),document.addEventListener("mouseup",function(){return t._onMouseUp()})}return t.prototype.setItem=function(t,e,n){a.collectionStore.setItem(t,e,n)},t.prototype.onMouseDown=function(t){if(1===t.which){var e=r.locate(t,"dhx_id"),n=r.locate(t,"dhx_collection_id");e&&n&&(this._transferData.x=t.x,this._transferData.y=t.y,this._transferData.targetId=n,this._transferData.id=e)}},t.prototype._onMouseMove=function(t){if(this._transferData.id){var e=t.pageX,n=t.pageY;if(!this._transferData.ghost){if(Math.abs(this._transferData.x-e)<3&&Math.abs(this._transferData.y-n)<3)return;var i=this._onDragStart(this._transferData.id,this._transferData.targetId);if(!i)return void this._endDrop();this._transferData.ghost=i,document.body.appendChild(this._transferData.ghost)}this._moveGhost(e,n),this._onDrag(t)}},t.prototype._onMouseUp=function(){this._transferData.x&&(this._transferData.ghost?(this._removeGhost(),this._onDrop()):this._endDrop())},t.prototype._moveGhost=function(t,e){if(this._transferData.ghost){var n=this._transferData.ghost.offsetWidth/2;this._transferData.ghost.style.left=t-n+"px",this._transferData.ghost.style.top=e+this._ghostTopPadding+"px"}},t.prototype._removeGhost=function(){document.body.removeChild(this._transferData.ghost)},t.prototype._onDrop=function(){if(this._canMove){var t=a.collectionStore.getItem(this._lastCollectionId),e=a.collectionStore.getItemConfig(this._lastCollectionId);if(t&&e.mode!==c.DragMode.source){var n={id:this._lastId,target:t},i={id:this._transferData.id,target:this._transferData.target};i.target.events.fire(s.DragEvents.beforeDrop,[i,n])&&(this._move(i,n),n.target.events.fire(s.DragEvents.dropComplete,[n.id,this._transferData.dropPosition])),this._endDrop()}else this._endDrop()}else this._endDrop()},t.prototype._onDragStart=function(t,e){var n=a.collectionStore.getItem(e),i=a.collectionStore.getItemConfig(e);if(i.dragMode===c.DragMode.target)return null;var o=n.data.getItem(t);n.events.fire(s.DragEvents.dragStart);var r,l,d=(r=o,(l=document.createElement("div")).textContent=r.value||r.text,l.className="drag-ghost",l);return n.events.fire(s.DragEvents.beforeDrag,[o,d])&&t?(this._toggleTextSelection(!0),this._transferData.target=n,this._transferData.dragConfig=i,d):null},t.prototype._onDrag=function(t){var e=t.x,n=t.y,o=document.elementFromPoint(e,n),h=r.locate(o,"dhx_id");if(h){var u,p,f=r.locate(o,"dhx_collection_id");if(this._transferData.dragConfig.behaviour===c.DragBehaviour.complex){var g=d(t);this._transferData.dropPosition=g<=.25?i.top:g>=.75?i.bot:i.in}else if(this._lastId===h&&this._lastCollectionId===f)return;if(h&&f||!this._canMove)if(u=[p={id:this._transferData.id,target:this._transferData.target},{id:h,target:a.collectionStore.getItem(f)}],p.target.events.fire(s.DragEvents.dragOut,u),f!==this._transferData.targetId||!(p.target.data instanceof l.TreeCollection)||p.target.data instanceof l.TreeCollection&&p.target.data.canCopy(p.id,h))this._cancelCanDrop(),this._lastId=h,this._lastCollectionId=f,p.target.events.fire(s.DragEvents.dragIn,u)&&this._canDrop();else this._cancelCanDrop();else this._cancelCanDrop()}else this._cancelCanDrop()},t.prototype._move=function(t,e){var n=t.target.data,o=e.target.data,r=0,s=e.id;switch(this._transferData.dragConfig.behaviour){case c.DragBehaviour.child:break;case c.DragBehaviour.sibling:s=o.getParent(s),r=o.getIndex(e.id)+1;break;case c.DragBehaviour.complex:var a=this._transferData.dropPosition;a===i.top?(s=o.getParent(s),r=o.getIndex(e.id)):a===i.bot&&(s=o.getParent(s),r=o.getIndex(e.id)+1)}n.move(t.id,r,o,s)},t.prototype._endDrop=function(){this._toggleTextSelection(!1),this._transferData.target&&this._transferData.target.events.fire(s.DragEvents.dragEnd),this._cancelCanDrop(),this._canMove=!0,this._transferData={},this._lastId=null,this._lastCollectionId=null},t.prototype._cancelCanDrop=function(){this._canMove=!1;var t=a.collectionStore.getItem(this._lastCollectionId);t&&this._lastId&&t.events.fire(s.DragEvents.cancelDrop,[this._lastId])},t.prototype._canDrop=function(){this._canMove=!0;var t=a.collectionStore.getItem(this._lastCollectionId);t&&this._lastId&&t.events.fire(s.DragEvents.canDrop,[this._lastId,this._transferData.dropPosition])},t.prototype._toggleTextSelection=function(t){t?document.body.classList.add("dhx-no-select"):document.body.classList.remove("dhx-no-select")},t}();e.dragManager=new h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this._store={}}return t.prototype.setItem=function(t,e,n){this._store[t]={target:e,config:n}},t.prototype.getItem=function(t){return this._store[t]?this._store[t].target:null},t.prototype.getItemConfig=function(t){return this._store[t]?this._store[t].config:null},t}();e.collectionStore=new i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),o=n(11),r=n(8),s=function(){function t(t,e,n){var o=this;this.events=n||new i.EventSystem,this._data=e,this._data.events.on(r.DataEvents.removeAll,function(){o._selected=null}),this._data.events.on(r.DataEvents.change,function(){if(o._selected){var t=o._data.getNearId(o._selected);t!==o._selected&&(o._selected=null,t&&o.add(t))}})}return t.prototype.getId=function(){return this._selected},t.prototype.getItem=function(){return this._selected?this._data.getItem(this._selected):null},t.prototype.remove=function(t){return!(t=t||this._selected)||!!this.events.fire(o.SelectionEvents.beforeUnSelect,[t])&&(this._data.update(t,{$selected:!1}),this._selected=null,this.events.fire(o.SelectionEvents.afterUnSelect,[t]),!0)},t.prototype.add=function(t){this._selected!==t&&(this.remove(),this.events.fire(o.SelectionEvents.beforeSelect,[t])&&(this._selected=t,this._data.update(t,{$selected:!0}),this.events.fire(o.SelectionEvents.afterSelect,[t])))},t}();e.Selection=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(4),r=n(7),s=function(){function t(t,e){var n=this;this.config={height:50,iconWidth:30,gap:20,icons:e},this.events=t,this._handlers={onclick:o.eventHandler(function(t){return o.locate(t)},{dhx_icon:function(t,e){n.events.fire(r.DiagramEvents.shapeIconClick,[e])}})},this.events.on(r.DiagramEvents.shapeMouseDown,function(t,e,i){n._pressCoords=i}),this.events.on(r.DiagramEvents.emptyAreaClick,function(){n._pressCoords=null})}return t.prototype.toSVG=function(t,e){var n=this.config,o=this._getIcons(t,n.icons),r=n.iconWidth*o.length+n.gap,s=this._getCoords(t,r,n.height,e.scale);return i.el("div",{class:"dhx_popup_toolbar",style:"\n\t\t\t\tmax-height:"+this.config.height+"px;\n\t\t\t\twidth:"+this.config.width+"px;\n\t\t\t\ttop:"+(s.y-e.top*e.scale)+"px;\n\t\t\t\tleft:"+(s.x-e.left*e.scale)+"px;",onclick:this._handlers.onclick},[i.el("div",{class:"dhx_item_toolbar"},o)])},t.prototype._getIcons=function(t,e){for(var n=[],o=0;o<e.length;o++){var r=e[o];if(!r.check||r.check(t)){var s=r.css?r.css(t):"",a={_key:r.id,class:"dhx_icon "+s,dhx_id:r.id},l="function"==typeof r.content?r.content(t):r.content;"string"==typeof l?(a[".innerHTML"]=l,n.push(i.el("div",a))):n.push(i.el("div",a,[l]))}}return n},t.prototype._getCoords=function(t,e,n,i){if(t.$shape.isConnector())return this._pressCoords?{x:this._pressCoords.x*i-50,y:this._pressCoords.y*i-50}:{x:t.points[0].x*i,y:t.points[0].y*i};var o=t.$shape.getBox();return{x:(o.right/2+o.left/2)*i-e/2,y:o.top*i-n-10}},t}();e.Toolbar=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={applyAll:"Apply all",resetChanges:"Reset Changes",editCard:"Edit Card",color:"Color",position:"Position",size:"Size"}},function(t,e){},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(58),s=n(0),a=null,l=function(t){function e(n,i){var o=t.call(this,n,i)||this;if(o._all={},o._parseConfig(),o._css+=o._xLayout?"layout_x":"layout_y dhx_widget",!(n instanceof e)){var r=s.create({render:function(){return o.toVDOM()}},o);o.mount(n,r)}return o}return o(e,t),e.prototype.cell=function(t){return this._all[t]},e.prototype.toVDOM=function(){var e=this._cells.map(function(t){return t.toVDOM()});return t.prototype.toVDOM.call(this,e)},e.prototype._createUi=function(t){return t.rows||t.cols?new e(this,t):new r.Cell(this,t)},e.prototype._parseConfig=function(){var t=this,e=this.config;a||(a=this);var n=e.rows||e.cols||e.views;this._xLayout=!e.rows,this._cells=n.map(function(e){var n=t._createUi(e);return e.id&&(a._all[e.id]=n),n}),a===this&&(a=null)},e}(r.Cell);e.Layout=l},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),s=n(6),a=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.mount(e,{redraw:function(){e.paint()}}),i._css="",i}return o(e,t),e.prototype.isVisible=function(){return!this.config.hidden},e.prototype.destructor=function(){this.config=null},e.prototype.getWidget=function(){return this._ui},e.prototype.attach=function(t,e){return"object"==typeof t?this._ui=t:"string"==typeof t?this._ui=new window.dhx[t](null,e):"function"==typeof t&&(t.prototype instanceof s.View?this._ui=new t(null,e):this._ui={getRootView:function(){return t(e)}}),this.paint(),this._ui},e.prototype.toVDOM=function(t){var e=this.config;if(!e.hidden){var n,i=this._css+" "+(this.config.css||""),o={};if(e.width&&(o.flex="0 0 "+e.width),e.height&&(o.height=e.height),this.config.html)n=[r.el("div",{".innerHTML":this.config.html})];else if(this._ui){var s=this._ui.getRootView();s.render&&(s=r.inject(s)),n=[s]}else n=t||null;return r.el("div",{_key:this._uid,style:o,class:"dhx_cell "+i},n)}},e}(s.View);e.Cell=a},function(t,e,n){"use strict";function i(t){for(var e=t.toLowerCase().match(/\w+/g),n=0,i="",o=0;o<e.length;o++){var r=e[o];"ctrl"===r?n+=4:"shift"===r?n+=2:"alt"===r?n+=1:i=r}return n+i}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){var t=this;this._keysStorage={},document.addEventListener("keydown",function(e){var n=(e.ctrlKey?4:0)+(e.shiftKey?2:0)+(e.altKey?1:0)+e.key.toLowerCase(),i=t._keysStorage[n];i&&i.handler(e)})}return t.prototype.addHotKey=function(t,e,n){var o=i(t);this._keysStorage[o]={handler:e,scope:n}},t.prototype.removeHotKey=function(t,e){var n=this._keysStorage;t&&delete n[o=i(t)];if(e)for(var o in n)n[o].scope===e&&delete n[o]},t.prototype.exist=function(t){var e=i(t);return!!this._keysStorage[e]},t}();e.keyManager=new o},function(t,e){t.exports='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 49.2 (51160) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>rotate</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="rotate" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M13.55,5.05 L9,0.5 L9,3.57 C5.06,4.06 2,7.42 2,11.5 C2,15.58 5.05,18.94 9,19.43 L9,17.41 C6.16,16.93 4,14.47 4,11.5 C4,8.53 6.16,6.07 9,5.59 L9,9.5 L13.55,5.05 L13.55,5.05 Z M17.93,10.5 C17.76,9.11 17.21,7.77 16.31,6.61 L14.89,8.03 C15.43,8.78 15.77,9.63 15.91,10.5 L17.93,10.5 L17.93,10.5 Z M11,17.4 L11,19.42 C12.39,19.25 13.74,18.71 14.9,17.81 L13.46,16.37 C12.71,16.91 11.87,17.26 11,17.4 L11,17.4 Z M14.89,14.98 L16.31,16.39 C17.21,15.23 17.76,13.89 17.93,12.5 L15.91,12.5 C15.77,13.37 15.43,14.22 14.89,14.98 L14.89,14.98 Z" fill="#B8C6D6"></path>\n    </g>\n</svg>'},function(t,e){t.exports='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 49.2 (51160) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>elbow</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="elbow" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <polygon fill="#B8C6D6" transform="translate(10.000000, 10.000000) rotate(90.000000) translate(-10.000000, -10.000000) " points="13 6 13 12 2 12 2 18 4 18 4 14 13 14 15 14 15 6 18 6 14 2 10 6"></polygon>\n    </g>\n</svg>'},function(t,e){t.exports='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 49.2 (51160) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>straight</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <polygon id="path-1" points="15.8800049 14.4599915 3.41003418 2 2 3.41000366 14.4699707 15.8800049 12.3499756 18 18 18 18 12.3399963"></polygon>\n    </defs>\n    <g id="straight" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g>\n            <use fill="#909CAD" xlink:href="#path-1"></use>\n            <use fill="#B8C6D6" xlink:href="#path-1"></use>\n        </g>\n    </g>\n</svg>'},function(t,e){t.exports='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 49.2 (51160) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>curved</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <path d="M15,13.998162 C14.900451,10.9559975 13.7033601,8.20567649 11.4087273,5.74719899 C9.11409455,3.28872149 5.9778521,2.03965516 2,2 L2,4 C5.27643261,3.99808367 7.89282748,4.997637 9.84918461,6.99865999 C11.8055417,8.99968299 12.8558135,11.3352025 13,14.0052184 L10,14.0052184 L14,18.000389 L18,13.998162 L15,13.998162 Z" id="path-2"></path>\n    </defs>\n    <g id="curved" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g>\n            <use fill="#909CAD" xlink:href="#path-2"></use>\n            <use fill="#B8C6D6" xlink:href="#path-2"></use>\n        </g>\n    </g>\n</svg>'},function(t,e){t.exports='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 49.2 (51160) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>align-bottom</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="align-bottom" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M11,12 L11,1 L9,1 L9,12 L6,12 L10,16 L14,12 L11,12 Z M2,17 L2,19 L18,19 L18,17 L2,17 L2,17 Z" fill="#B8C6D6"></path>\n    </g>\n</svg>'},function(t,e){t.exports='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 49.2 (51160) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>align-center</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="align-center" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M4,17 L16,17 L16,15 L4,15 L4,17 L4,17 Z M1,13 L19,13 L19,11 L1,11 L1,13 L1,13 Z M4,9 L16,9 L16,7 L4,7 L4,9 L4,9 Z M1,3 L1,5 L19,5 L19,3 L1,3 L1,3 Z" fill="#B8C6D6"></path>\n    </g>\n</svg>'},function(t,e){t.exports='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 49.2 (51160) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>align-left</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="align-left" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M13,15 L1,15 L1,17 L13,17 L13,15 L13,15 Z M13,7 L1,7 L1,9 L13,9 L13,7 L13,7 Z M1,13 L19,13 L19,11 L1,11 L1,13 L1,13 Z M1,3 L1,5 L19,5 L19,3 L1,3 L1,3 Z" fill="#B8C6D6"></path>\n    </g>\n</svg>'},function(t,e){t.exports='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 49.2 (51160) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>align-right</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="align-right" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M1,17 L19,17 L19,15 L1,15 L1,17 L1,17 Z M7,13 L19,13 L19,11 L7,11 L7,13 L7,13 Z M1,9 L19,9 L19,7 L1,7 L1,9 L1,9 Z M7,5 L19,5 L19,3 L7,3 L7,5 L7,5 Z" fill="#B8C6D6"></path>\n    </g>\n</svg>'},function(t,e){t.exports='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 49.2 (51160) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>align-middle</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="align-middle" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M9,16 L9,19 L11,19 L11,16 L14,16 L10,12 L6,16 L9,16 Z M11,4 L11,1 L9,1 L9,4 L6,4 L10,8 L14,4 L11,4 Z M2,9 L2,11 L18,11 L18,9 L2,9 L2,9 Z" fill="#B8C6D6"></path>\n    </g>\n</svg>'},function(t,e){t.exports='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 49.2 (51160) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>align-top</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="align-top" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M9,8 L9,19 L11,19 L11,8 L14,8 L10,4 L6,8 L9,8 Z M2,1 L2,3 L18,3 L18,1 L2,1 L2,1 Z" fill="#B8C6D6"></path>\n    </g>\n</svg>'},function(t,e){t.exports='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 49.2 (51160) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>align-horizontal-center</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="align-horizontal-center" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M11,16 L11,19 L9,19 L9,16 L5,16 L5,12 L9,12 L9,8 L3,8 L3,7 L3,4 L9,4 L9,1 L11,1 L11,4 L17,4 L17,8 L11,8 L11,12 L15,12 L15,13 L15,16 L11,16 Z" id="horizontal-center" fill="#B8C6D6"></path>\n    </g>\n</svg>'},function(t,e){t.exports='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 49.2 (51160) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>align-horizontal-left</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="align-horizontal-left" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M15,12 L5,12 L5,16 L15,16 L15,13 L15,12 Z M5,8 L19,8 L19,4 L5,4 L5,7 L5,8 Z M1,19 L3,19 L3,1 L1,1 L1,19 Z" id="horizontal-left" fill="#B8C6D6"></path>\n    </g>\n</svg>'},function(t,e){t.exports='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 49.2 (51160) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>align-horizontal-right</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="align-horizontal-right" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M15,12 L15,13 L15,16 L5,16 L5,12 L15,12 Z M1,8 L1,7 L1,4 L15,4 L15,8 L1,8 Z M17,19 L17,1 L19,1 L19,19 L17,19 Z" id="horizontal-right" fill="#B8C6D6"></path>\n    </g>\n</svg>'},function(t,e){t.exports='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 49.2 (51160) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>align-vertical-bottom</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="align-vertical-bottom" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M16,5 L16,7.5 L16,15 L12,15 L12,5 L16,5 Z M4,15 L4,11.5 L4,1 L8,1 L8,15 L4,15 Z M1,19 L1,17 L19,17 L19,19 L1,19 Z" id="vertical-bottom" fill="#B8C6D6"></path>\n    </g>\n</svg>'},function(t,e){t.exports='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 49.2 (51160) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>align-vertical-top</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="align-vertical-top" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M16,5 L16,7.5 L16,15 L12,15 L12,5 L16,5 Z M4,19 L4,15.5 L4,5 L8,5 L8,19 L4,19 Z M1,3 L1,1 L19,1 L19,3 L1,3 Z" id="vertical-top" fill="#B8C6D6"></path>\n    </g>\n</svg>'},function(t,e){t.exports='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 49.2 (51160) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>align-vertical-middle</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="align-vertical-middle" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M16,9 L19,9 L19,11 L16,11 L16,15 L12,15 L12,11 L8,11 L8,17 L4,17 L4,13.5 L4,11 L1,11 L1,9 L4,9 L4,3 L8,3 L8,9 L12,9 L12,5 L16,5 L16,7.5 L16,9 Z" id="vertical-middle" fill="#B8C6D6"></path>\n    </g>\n</svg>'},function(t,e){t.exports='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="30px" height="30px" viewBox="0 0 30 30" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 49.2 (51160) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>text-shape</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="text-shape" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M3,7 L3,10 L9,10 L9,23 L12,23 L12,10 L18,10 L18,7 L4,7 L3,7 Z M16,12 L16,15 L20,15 L20,23 L23,23 L23,15 L27,15 L27,12 L16,12 Z" id="Text" fill="#B8C6D6"></path>\n    </g>\n</svg>'},function(t,e){t.exports='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="30px" height="30px" viewBox="0 0 30 30" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 49.2 (51160) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>image-shape</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="image-shape" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M3,1 L27,1 C28.1045695,1 29,1.8954305 29,3 L29,27 C29,28.1045695 28.1045695,29 27,29 L3,29 C1.8954305,29 1,28.1045695 1,27 L1,3 C1,1.8954305 1.8954305,1 3,1 Z M4,3 C3.44771525,3 3,3.44771525 3,4 L3,26 C3,26.5522847 3.44771525,27 4,27 L26,27 C26.5522847,27 27,26.5522847 27,26 L27,4 C27,3.44771525 26.5522847,3 26,3 L4,3 Z M13,21 L18,14 L25.0005557,24 L5.0005693,24 L9.5,16.9952505 L13,21 Z" id="Mask" fill="#B8C6D6"></path>\n    </g>\n</svg>'},function(t,e){t.exports='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 49.2 (51160) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>filled-arrow</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="filled-arrow" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Solid---Selected-Now-Style" transform="translate(1.500000, 2.000000)" fill-rule="nonzero">\n            <g id="Left-Arrow" transform="translate(8.500000, 8.000000) scale(-1, 1) rotate(-90.000000) translate(-8.500000, -8.000000) translate(1.000000, 0.000000)">\n                <path d="M7.5,12.5 L7.5,0.5" id="Shape" stroke="#909CAD" stroke-width="2" stroke-linejoin="round"></path>\n                <polygon id="Shape" fill="#909CAD" points="0.5 6.5 7.5 15.5 14.5 6.5"></polygon>\n            </g>\n        </g>\n    </g>\n</svg>'},function(t,e){t.exports='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 49.2 (51160) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>filled-arrow</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="filled-arrow" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Solid---Selected-Now-Style" transform="translate(1.500000, 2.000000)" fill-rule="nonzero">\n            <g id="Left-Arrow" transform="translate(8.500000, 8.000000) scale(-1, 1) rotate(90.000000) translate(-8.500000, -8.000000) translate(1.000000, 0.000000)">\n                <path d="M7.5,12.5 L7.5,0.5" id="Shape" stroke="#909CAD" stroke-width="2" stroke-linejoin="round"></path>\n                <polygon id="Shape" fill="#909CAD" points="0.5 6.5 7.5 15.5 14.5 6.5"></polygon>\n            </g>\n        </g>\n    </g>\n</svg>'},function(t,e){t.exports='<?xml version="1.0" encoding="UTF-8"?>\r\n<svg width="30px" height="30px" viewBox="0 0 30 30" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\r\n    \x3c!-- Generator: Sketch 49.2 (51160) - http://www.bohemiancoding.com/sketch --\x3e\r\n    <title>line</title>\r\n    <desc>Created with Sketch.</desc>\r\n    <defs></defs>\r\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\r\n        <polygon fill="#909CAD" points="5 10 5 8 25 8 25 10"></polygon>\r\n    </g>\r\n</svg>'},function(t,e){t.exports='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 49.2 (51160) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>duplicate</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="duplicate" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M10,5 L18,5 C19.1045695,5 20,5.8954305 20,7 L20,18 C20,19.1045695 19.1045695,20 18,20 L10,20 C8.8954305,20 8,19.1045695 8,18 L8,7 C8,5.8954305 8.8954305,5 10,5 Z M10,7 L18,7 L18,18 L10,18 L10,7 Z M2,0 L10,0 C11.1045695,0 12,0.8954305 12,2 L12,4 L10,4 L10,2 L2,2 L2,13 L7,13 L7,15 L2,15 C0.8954305,15 0,14.1045695 0,13 L0,2 C0,0.8954305 0.8954305,0 2,0 Z" fill="#B8C6D6"></path>\n    </g>\n</svg>'},function(t,e){t.exports='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 49.2 (51160) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>connect</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="connect" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M5.82929429,15 L9,15 L9,3 L14,3 L14,1 L20,1 L20,7 L14,7 L14,5 L11,5 L11,15 L11,17 L5.82929429,17 C5.41745788,18.1651924 4.30621883,19 3,19 C1.34314575,19 0,17.6568542 0,16 C0,14.3431458 1.34314575,13 3,13 C4.30621883,13 5.41745788,13.8348076 5.82929429,15 Z M16,5 L18,5 L18,3 L16,3 L16,5 Z M3,17 C3.55228475,17 4,16.5522847 4,16 C4,15.4477153 3.55228475,15 3,15 C2.44771525,15 2,15.4477153 2,16 C2,16.5522847 2.44771525,17 3,17 Z" fill="#B8C6D6"></path>\n    </g>\n</svg>'},function(t,e){t.exports='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 49.2 (51160) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>change-shape</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="change-shape" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M15,0 C17.7614237,0 20,2.23857625 20,5 C20,7.76142375 17.7614237,10 15,10 C12.2385763,10 10,7.76142375 10,5 C10,2.23857625 12.2385763,0 15,0 Z M0,10 L10,10 L10,20 L0,20 L0,10 Z" fill="#B8C6D6"></path>\n    </g>\n</svg>'},function(t,e){t.exports='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="30px" height="30px" viewBox="0 0 30 30" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 49.2 (51160) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>plus</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="plus" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <polygon fill="#909CAD" points="16 16 16 20 14 20 14 16 10 16 10 14 14 14 14 10 16 10 16 14 20 14 20 16"></polygon>\n    </g>\n</svg>'},function(t,e){t.exports='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="30px" height="30px" viewBox="0 0 30 30" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 49.2 (51160) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>minus</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="minus" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <polygon fill="#909CAD" points="10 16 10 14 20 14 20 16"></polygon>\n    </g>\n</svg>'},function(t,e){t.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n\x3c!-- Created with Inkscape (http://www.inkscape.org/) --\x3e\n\n<svg\n   xmlns:osb="http://www.openswatchbook.org/uri/2009/osb"\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:xlink="http://www.w3.org/1999/xlink"\n   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"\n   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"\n   width="20"\n   height="20"\n   viewBox="0 0 5.2916665 5.2916665"\n   version="1.1"\n   id="svg8"\n   inkscape:version="0.92.3 (2405546, 2018-03-11)"\n   sodipodi:docname="remove_point.svg">\n  <defs\n     id="defs2">\n    <linearGradient\n       id="linearGradient4556"\n       osb:paint="solid">\n      <stop\n         style="stop-color:#000000;stop-opacity:1;"\n         offset="0"\n         id="stop4554" />\n    </linearGradient>\n    <linearGradient\n       inkscape:collect="always"\n       id="linearGradient3725">\n      <stop\n         style="stop-color:#000000;stop-opacity:1;"\n         offset="0"\n         id="stop3721" />\n      <stop\n         style="stop-color:#000000;stop-opacity:0;"\n         offset="1"\n         id="stop3723" />\n    </linearGradient>\n    <linearGradient\n       inkscape:collect="always"\n       xlink:href="#linearGradient3725"\n       id="linearGradient3727"\n       x1="132.85863"\n       y1="120.67411"\n       x2="170.84525"\n       y2="186.63095"\n       gradientUnits="userSpaceOnUse" />\n  </defs>\n  <sodipodi:namedview\n     id="base"\n     pagecolor="#ffffff"\n     bordercolor="#666666"\n     borderopacity="1.0"\n     inkscape:pageopacity="0.0"\n     inkscape:pageshadow="2"\n     inkscape:zoom="15.839192"\n     inkscape:cx="6.4709686"\n     inkscape:cy="9.2788167"\n     inkscape:document-units="mm"\n     inkscape:current-layer="layer1"\n     showgrid="true"\n     units="px"\n     showguides="true"\n     inkscape:window-width="1920"\n     inkscape:window-height="1017"\n     inkscape:window-x="-8"\n     inkscape:window-y="-8"\n     inkscape:window-maximized="1">\n    <inkscape:grid\n       type="xygrid"\n       id="grid3731" />\n  </sodipodi:namedview>\n  <metadata\n     id="metadata5">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n        <dc:title></dc:title>\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <g\n     inkscape:label="Layer 1"\n     inkscape:groupmode="layer"\n     id="layer1"\n     transform="translate(0,-291.70833)">\n    <circle\n       id="path3729"\n       cx="2.6285729"\n       cy="294.37857"\n       style="fill:none;fill-opacity:1;stroke:#000000;stroke-width:0.18520833;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"\n       r="1.9080528" />\n    <path\n       style="fill:none;stroke:#000000;stroke-width:0.14816679;stroke-linecap:round;stroke-linejoin:bevel;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"\n       d="m 0.79375,292.50208 3.7041667,3.70417"\n       id="path3737"\n       inkscape:connector-curvature="0" />\n    <path\n       style="fill:none;stroke:#000000;stroke-width:0.14816675;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"\n       d="m 0.79375,296.20625 3.7041667,-3.70417"\n       id="path3739"\n       inkscape:connector-curvature="0" />\n    <path\n       style="fill:none;stroke:#000000;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"\n       d="M 0,294.35416 H 0.79374999"\n       id="path4562"\n       inkscape:connector-curvature="0" />\n    <path\n       style="fill:none;stroke:#000000;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"\n       d="m 4.4979166,294.35416 h 0.79375"\n       id="path4564"\n       inkscape:connector-curvature="0" />\n  </g>\n</svg>\n'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){var t=this;this._moveHandler=function(e){if(Math.abs(e.clientX-t._start.x)>5||Math.abs(e.clientY-t._start.y)>5){var n={x:e.clientX-t._start.x,y:e.clientY-t._start.y};t._handler.onMove(e,n,t._context),t._start.x+=n.x,t._start.y+=n.y}},this._upHandler=function(e){document.removeEventListener("mousemove",t._moveHandler),document.removeEventListener("mouseup",t._upHandler),document.body.classList.remove("dhx_noselect"),t._handler.onUp(e),t._handler=t._start=null}}return t.prototype.start=function(t,e,n){this._handler=e,this._context=n,this._start={x:t.clientX,y:t.clientY},document.addEventListener("mousemove",this._moveHandler),document.addEventListener("mouseup",this._upHandler),document.body.classList.add("dhx_noselect")},t}();e.drag=new i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(0),r=function(){function t(t,e){var n=this;this.createConnector=function(t){var e=i.uid();n._connector={id:e,from:t.id,fromSide:t.side};var o=n._nearShape.$shape.getPoint(t.dx,t.dy);n._diagram.data.add({id:e,type:"line",points:[{x:o.x,y:o.y},{x:o.x,y:o.y}],stroke:"#2196F3",$move:!0}),n._diagram.selection.add(e)},this._setNearPoint=function(t){n._nearPoint&&t.side===n._nearPoint.side||(n._nearPoint=t,n._diagram.paint())},this._removeNearPoint=function(){n._nearPoint&&(n._nearPoint=null,n._diagram.paint())},this._controls=t,this._diagram=e}return t.prototype.getItemId=function(){return this._nearShape?this._nearShape.id:""},t.prototype.getPoints=function(t,e){var n=this;if(this._nearShape&&this._nearShape.$shape.canResize()){var i=this._diagram.config.scale,r="org"===this._diagram.config.type?10:8;if(t&&t.$shape.isConnector()&&t.$move){var a=this._diagram.data.map(function(t){if(t.$shape.isConnector()||!t.$shape.canResize())return null;var a=t.$shape.getBox();return o.el(".dhx_connect",{style:{width:t.width*i,height:t.height*i,position:"absolute",top:(a.top-e.top)*i,left:(a.left-e.left)*i,pointerEvents:"none",transform:"rotate("+(t.angle||0)+"deg)"}},n._getConnectionPoints(s(t,r),i))});return o.el("div",a)}var l=this._nearShape.$shape.getBox();return o.el(".dhx_connect",{style:{width:this._nearShape.width*i,height:this._nearShape.height*i,position:"absolute",top:(l.top-e.top)*i,left:(l.left-e.left)*i,pointerEvents:"none",transform:"rotate("+(this._nearShape.angle||0)+"deg)"}},this._getConnectionPoints(s(this._nearShape,r),i))}},t.prototype._getConnectionPoints=function(t,e){var n=this;return t.map(function(t){return o.el(".dhx_connect_point",{style:{top:t.y*e-15,left:t.x*e-15},_key:i.uid(),class:(n._nearPoint&&n._nearPoint.side)===t.side&&t.id===n._nearPoint.id?"dhx_nearest_point":"",_data:{resizer:n._controls,p:t},onmouseover:[n._setNearPoint,t],onmouseleave:[n._removeNearPoint],onmousedown:[n.createConnector,t]},[o.el(".dhx_connect_grip",{_data:{resizer:n._controls,p:t}})])})},t.prototype.setNearShape=function(t){t!==this._nearShape&&(this._nearShape=t,this._diagram.paint())},t.prototype.toggleNearShape=function(t){this._nearShape=this._nearShape&&this._nearShape.id===t.id?null:t,this._diagram.paint()},t.prototype.removeNearShape=function(){this._nearShape=null,this._nearPoint=null},t.prototype.moveConnector=function(t,e,n,i){var o,r=this._controls.getPoint(t.clientX,t.clientY);if(this._connector){var s=this._diagram.data.getItem(this._connector.id);s.points[s.points.length-1]={x:r.x,y:r.y},this._diagram.data.update(s.id,s),this._diagram.paint()}this._findNearShape(e,r,i);var a,l=e.points.map(function(t,e){return e===i.i&&(t.x=n.x+t.x,t.y=n.y+t.y,t.$custom=!0,i.side&&(o=i.side)),t});this._nearPoint&&o?this._diagram.data.update(e.id,((a={points:l,$move:!0})[o]=this._nearPoint.id,a[o+"Side"]=this._nearPoint.side,a)):this._diagram.data.update(e.id,{points:l,$move:!0})},t.prototype.onUp=function(){var t=this._diagram.selection.getItem();if(delete t.$move,this._connector&&this._nearShape){var e=this._connector.from,n=this._nearShape.id;e&&n&&e!==n&&this._nearPoint?this._diagram.data.update(t.id,{from:this._connector.from,to:this._nearShape.id,fromSide:this._connector.fromSide,toSide:this._nearPoint.side,points:null}):(this._diagram.selection.add(this._connector.from),this._diagram.data.remove(t.id)),this._connector=null}this._nearShape=null,this._nearPoint=null},t.prototype._findNearShape=function(t,e,n){var i=this,o="from"===n.side?"to":"from";this._diagram.data.map(function(n){var r=n.x+n.width/2,s=n.y+n.height/2;Math.sqrt(Math.pow(e.x-r,2)+Math.pow(e.y-s,2))<n.width&&n.id!==t[o]&&!n.$shape.isConnector()&&(i._nearShape=n)})},t}();function s(t,e){if(!t)return[];var n=t.$shape.getBox(),i=t.width,o=t.height,r=n.left-e/2,s=n.top-e/2;return[{x:0+i/2,y:0,dx:r+i/2,dy:s,id:t.id,side:"top"},{x:0+i,y:0+o/2,dx:r+i,dy:s+o/2,id:t.id,side:"right"},{x:0+i/2,y:0+o,dx:r+i/2,dy:s+o,id:t.id,side:"bottom"},{x:0,y:0+o/2,dx:r,dy:s+o/2,id:t.id,side:"left"}]}e.Connect=r,e.getConnectPoints=s},function(t,e,n){"use strict";var i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),r=n(10),s=n(17),a=function(){function t(t,e){this._controls=t,this._diagram=e}return t.prototype.getPoints=function(t,e){var n=this;if(t){var i=t.$shape.getBox(),s=this._diagram.config.scale,a="org"===this._diagram.config.type?10:8,l=0;t.$shape.isConnector()&&(l=2);var d=c(t,s).map(function(t){return o.el(".dhx_resize_grip",{style:"\n\t\t\t\t\tcursor: "+t.cursor+";\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: "+(t.y-l-a/2)+"px;\n\t\t\t\t\tleft: "+(t.x-l-a/2)+"px;\n\t\t\t\t\tpointer-events:auto;\n\t\t\t\t",tabindex:-1,class:t.$break?"dhx_break_point":"",_data:{resizer:n._controls,p:t}})});return o.el(".dhx_resizer",{style:{width:t.width*s,height:t.height*s,position:"absolute",top:(i.top-e.top)*s,left:(i.left-e.left)*s,pointerEvents:"none",transform:"rotate("+(t.angle||0)+"deg)"}},d.concat([!t.$shape.isConnector()&&o.el("div",{class:"dhx_diagram_item",dhx_id:t.id,style:{width:(t.width-1)*s,height:(t.height-1)*s,top:0,left:0,background:"none",border:"dashed 1px blue",position:"absolute",zIndex:0,pointerEvents:"none"}}),!t.$shape.isConnector()&&"org"!==this._diagram.config.type&&o.el(".dhx_shape_rotate",{style:{width:20,height:20,position:"absolute",top:t.height*s/2-10,left:t.width*s+10,zIndex:1e4,pointerEvents:"auto"},_data:{resizer:this._controls,p:{rotate:!0}}},[r.getIcon("rotate")])]))}},t}();function l(t,e){var n=i({},t.points[0]);n.x*=e,n.y*=e;var o=[];return t.points.map(function(r,a,l){if((r=i({},r)).x*=e,r.y*=e,r.cursor="pointer",r.i=a,0===a&&(r.side="from"),a===t.points.length-1&&(r.side="to"),"curved"!==t.connectType&&l[a+1]){var c=i({},l[a+1]);if(c.x*=e,c.y*=e,s.getLength(r,c)>20){var d=(r.x+c.x)/2,h=(r.y+c.y)/2;o.push({x:d-n.x+2,y:h-n.y+2,dx:d/e,dy:h/e,$break:!0,i:a+1})}}return r.dx=r.x,r.dy=r.y,r.x=r.x-n.x+2,r.y=r.y-n.y+2,r}).concat(o)}function c(t,e){if(t.$shape.isConnector())return l(t,e);var n=t.width*e,i=t.height*e;return[{cursor:"nw-resize",x:0,y:0,dx:1,dy:1},{cursor:"n-resize",x:0+n/2,y:0,dx:0,dy:1},{cursor:"ne-resize",x:0+n,y:0,dx:-1,dy:1},{cursor:"e-resize",x:0+n,y:0+i/2,dx:-1,dy:0},{cursor:"se-resize",x:0+n,y:0+i,dx:-1,dy:-1},{cursor:"s-resize",x:0+n/2,y:0+i,dx:0,dy:-1},{cursor:"sw-resize",x:0,y:0+i,dx:1,dy:-1},{cursor:"w-resize",x:0,y:0+i/2,dx:1,dy:0}]}e.Resize=a,e.getConnectorPoints=l,e.getRectPoints=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n(91))},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(92),s=n(0),a=n(3),l=function(t){function e(e,n){var i=t.call(this,e,n)||this;i._lines=[],a.EventsMixin(i);var o=s.create({render:function(t,e){return e._toVDOM()}},i);return i.attachEvent("onChange",i.paint),i.attachEvent("onAfterFileUpload",i.paint),i.mount(e,o),i}return o(e,t),e.prototype._toVDOM=function(){var t=this._lines.map(function(t){return t.toVDOM()});return s.el(".dhx_property",[s.el(".sidebar-title",this.config.title)].concat(t))},e.prototype.parseStruct=function(t){this._elements={},this._lines=[];for(var e=0;e<t.length;e++){var n=t[e],i=new r.items[n.type](n,this);this._lines.push(i),this._elements[n.id]=i}this.paint()},e.prototype.parse=function(t){this.setValues(t)},e.prototype.clear=function(){for(var t in this._elements)this._elements[t].clear()},e.prototype.getValues=function(){var t={};for(var e in this._elements)t[e]=this._elements[e].getValue();return t},e.prototype.setValues=function(t){for(var e in this._elements){var n=this._elements[e],i=t[e];i?(n.clear(i),n.setValue(i,!0)):n.clear(i)}this.paint()},e.prototype.isItemSelected=function(t){var e=this._elements[t]._uid;return!!e&&this.getRootView().refs[e].el===document.activeElement},e.prototype.isItemsSelected=function(){var t=this.getRootView().refs,e=!1;for(var n in t)t[n].el===document.activeElement&&(e=!0);return e},e.prototype.selectItem=function(t){var e=this._elements[t]?this._elements[t]._uid:"",n=this.getRootView().refs;e&&n&&n[e].el.focus()},e}(n(6).View);e.Property=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(93),o=n(94),r=n(99),s=n(34),a=n(100),l=n(101),c=n(2),d=n(102),h=n(103),u=n(104),p=n(105);e.items={text:c.Text,textarea:d.Textarea,group:r.Group,inputs:s.Inputs,color:o.ColorPicker,image:u.Uploader,inputsGroup:a.InputsGroup,stroke:l.Stroke,textProps:h.TextProps,alignBar:i.AlignBar,label:p.Label}},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=n(10),l=n(19),c=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i._handlers.iconClick=function(t,e){var n,o=e.target.getAttribute("dhx_id");i.setValue(r({},i._config.value,((n={})[t]=o,n)))},i}return o(e,t),e.prototype.toVDOM=function(){return s.el(".edit-section.align_bar",{_key:this._uid},[l.getIconGroup(this._handlers.iconClick,"horizontal",[{id:"left",el:a.getIcon("align-horizontal-left"),css:"align_icon_wrap"},{id:"center",el:a.getIcon("align-horizontal-center"),css:"align_icon_wrap"},{id:"right",el:a.getIcon("align-horizontal-right"),css:"align_icon_wrap"}],this._config.value.horizontal),l.getIconGroup(this._handlers.iconClick,"vertical",[{id:"top",el:a.getIcon("align-vertical-top"),css:"align_icon_wrap"},{id:"middle",el:a.getIcon("align-vertical-middle"),css:"align_icon_wrap"},{id:"bottom",el:a.getIcon("align-vertical-bottom"),css:"align_icon_wrap"}],this._config.value.vertical)])},e}(n(2).Text);e.AlignBar=c},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(20),s=n(0),a=function(t){function e(e,n){var i=this;return e.validation=e.validation||"color",(i=t.call(this,e,n)||this)._colorPicker=new r.Colorpicker,i._colorPicker.attachEvent("onColorChange",function(t){i.setValue(t)}),i._handlers.show=function(t){return i._showPopup(t.target)},i}return o(e,t),e.prototype.toVDOM=function(){return s.el(".edit-section.color-edit",{_key:this._uid},[s.el(".section-title",this._config.label||""),s.el(".color-edit",[s.el(".color_picker_wrap",{onclick:this._handlers.show},[s.el("label.input_element",{for:this._config.id},[s.el("input",{type:"text",name:this._config.id,value:this._config.value,disabled:!0}),s.el(".input_icon_wrap",[s.el(".input_icon",{style:{backgroundColor:this._config.value}})])])])])])},e.prototype._showPopup=function(t){this._colorPicker.setValue(this._config.value),this._colorPicker.show(t)},e}(n(2).Text);e.ColorPicker=a},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),s=n(96),a=n(98),l=function(t){function e(e){var n=t.call(this,e)||this;return e=e||{},n.config.width=e.width||228,n.config.height=e.height||170,n.config.css+=" dhx_colorpicker_popup",n._handlers={click:{".dhx_palette_cell":n._onColorClick.bind(n)}},n}return o(e,t),e.prototype.setValue=function(t){this._selected=t||null},e.prototype._getCells=function(t){var e=this;return t.reduce(function(t,n){var i=e._selected===n?"dhx_selected":"";return t.push(r.el(".dhx_palette_cell",{class:i,_data:{color:n},style:"background:"+n})),t},[])},e.prototype._onColorClick=function(t,e){this._selected=e.data.color,this.callEvent("onColorChange",[this._selected]),this.hide()},e.prototype._getGrayShades=function(){return r.el(".dhx_palette_row",this._getCells(a.grayShades))},e.prototype._getPalette=function(){var t=this;return a.palette.reduce(function(e,n){return e.push(r.el(".dhx_palette_col",t._getCells(n.colors))),e},[])},e.prototype._getContent=function(){return r.el(".dhx_colorpicker_wrap",[r.el(".dhx_palette",{onclick:this._handlers.click},[this._getGrayShades()].concat(this._getPalette()))])},e}(s.Popup);e.Colorpicker=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n(97))},function(t,e,n){"use strict";var i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),r=n(3),s=n(4),a=function(){function t(t){var e=this;this._handleOutsideClick=function(t){e._popup.node.el.contains(t.target)||e._node.contains(t.target)||e.hide()};this.config=i({},{width:400,height:400,css:""},t),this._eventSystem=new r.EventSystem(this),this.state={}}return t.prototype.attachEvent=function(t,e){this._eventSystem.on(t,e,this)},t.prototype.detachEvent=function(t){this._eventSystem.detach(t,this)},t.prototype.callEvent=function(t,e){return this._eventSystem.fire(t,e)},t.prototype.show=function(t){if(this._hideTimer)return clearTimeout(this._hideTimer),void this._popup.classList.remove("hide");this._popup||(this._getPosition(t),this._node=t,this._popup=o.create({render:this.render},this),this._popup.mount(document.body),document.body.addEventListener("click",this._handleOutsideClick))},t.prototype.hide=function(){this._popup.unmount(),this._popup=null,document.body.removeEventListener("click",this._handleOutsideClick)},t.prototype.render=function(t,e){return o.el(".dhx_popup",{style:"\n\t\t\twidth:"+e.config.width+"px;\n\t\t\theight:"+e.config.height+"px;\n\t\t\ttop:"+e.state.position.top+"px;\n\t\t\tleft:"+e.state.position.left+"px;",class:e.config.css,onclick:function(t){e.callEvent("onDomEvent",["click",t])}},[o.el(".dhx_popup_content.dhx_card",{style:"width:100%;height:100%;"},[e._getContent()])])},t.prototype._getContent=function(){return null},t.prototype._getPosition=function(t){var e=(t=s.toNode(t)).getBoundingClientRect(),n=document.body.getBoundingClientRect(),i=e.left+e.width/2,o=e.bottom,r=i-this.config.width/2,a=e.bottom+this.config.height,l={top:o,left:r},c=e.top-this.config.height,d=n.bottom-a,h=r,u=n.right-e.right;return u<0&&(l.left=e.right-this.config.width),h<0&&(l.left=e.left),d<0&&c>0?(l={top:o-this.config.height,left:r},(u<0||h<0)&&(l.left=u<0?e.right-this.config.width:e.left)):d<0&&(l.top=e.bottom+n.bottom-a,l.left=e.right,h<0&&(l.left=e.right)),this.state.position=l,l},t}();e.Popup=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.grayShades=["#000000","#434343","#666666","#999999","#B7B7B7","#CCCCCC","#D9D9D9","#EFEFEF","#F3F3F3","#FFFFFF"],e.palette=[{name:"pink",colors:["#E91E63","#FCE4EC","#F8BBD0","#F06292","#C2185B","#880E4F"]},{name:"red",colors:["#F44336","#FFEBEE","#FFCDD2","#E57373","#D32F2F","#B71C1C"]},{name:"orange",colors:["#FF9800","#FFF3E0","#FFE0B2","#FFB74D","#F57C00","#EF6C00"]},{name:"yellow",colors:["#FFEB3B","#FFFDE7","#FFF9C4","#FFF176","#FBC02D","#F57F17"]},{name:"green",colors:["#4CAF50","#E8F5E9","#C8E6C9","#81C784","#388E3C","#1B5E20"]},{name:"blue green",colors:["#00C7B5","#C8FAF6","#8DE9E1","#03D7C4","#079D8F","#076F66"]},{name:"blue",colors:["#03A9F4","#E1F5FE","#B3E5FC","#4FC3F7","#0288D1","#01579B"]},{name:"indigo",colors:["#3F51B5","#E8EAF6","#C5CAE9","#7986CB","#303F9F","#1A237E"]},{name:"deep purple",colors:["#673AB7","#EDE7F6","#D1C4E9","#9575CD","#512DA8","#311B92"]},{name:"blue gray",colors:["#607D8B","#ECEFF1","#CFD8DC","#90A4AE","#455A64","#263238"]}]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=function(){function t(t,e){this._config=t}return t.prototype.toVDOM=function(){return i.el(".dhx_group_item.side-bar",this._config.label||"")},t}();e.Group=o},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.toVDOM=function(){for(var t=this._config.options,e=t.length,n=[],i=0;i<e;i++){var o=t[i];n.push(r.el("label.input_element",{for:o.id},[r.el("input",{type:"text",name:o.id,value:o.value,index:i,class:o.invalid?"dhx_invalid":"",_ref:this._uid+i,onchange:this._handlers.change,oninput:this._handlers.change}),r.el(".input_icon_wrap",[o.icon?o.icon():r.el(".input_icon",o.label)])]))}return r.el(".edit-section.input_group_up",[r.el(".section-title",this._config.label),r.el(".inputs_group",n.slice())])},e}(n(34).Inputs);e.InputsGroup=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var s=n(20),a=n(0),l=n(15),c=n(10),d=n(19),h=function(t){function e(e,n){var i=this;return e.validation=e.validation||"color",(i=t.call(this,e,n)||this)._colorPicker=new s.Colorpicker,i._colorPicker.attachEvent("onColorChange",function(t){i.setValue(r({},i._config.value,{stroke:t}))}),i._handlers.show=function(t){return i._showPopup(t.target)},i._handlers.saveType=function(t,e){var n;i.setValue(r({},i._config.value,((n={})[t]=e,n)))},i._handlers.change=function(t){var e,n=t.target.getAttribute("name"),o=t.target.value;l.validate(o,"number")?(t.target.setAttribute("class",""),i.setValue(r({},i._config.value,((e={})[n]=o,e)))):t.target.setAttribute("class","dhx_invalid")},i._handlers.iconClick=function(t,e){var n,o=e.target.getAttribute("dhx_id");i.setValue(r({},i._config.value,((n={})[t]=o,n)))},i}return o(e,t),e.prototype.toVDOM=function(){return a.el(".edit-section.line-edit",{_key:this._uid},[a.el(".section-title",this._config.label||""),a.el(".line-edit-content",[a.el(".input_element.alone_picker",{onclick:this._handlers.show},[a.el(".input_icon_wrap",[a.el(".input_icon",{style:{backgroundColor:this._config.value.stroke}})])]),a.el(".dropup.input_element",d.getSelect(this._handlers.saveType,"strokeType",[{id:"none",text:"None",disabled:this._config.connector},{id:"line",class:"dhx_select_line"},{id:"dash",class:"dhx_select_dash"}],this._config.value.strokeType||"line")),"none"!==this._config.value.strokeType&&a.el(".input_element.line_width",[a.el("input",{type:"text",onchange:this._handlers.change,oninput:this._handlers.change,value:this._config.value.strokeWidth,name:"strokeWidth",class:this._config.invalid?"dhx_invalid":""}),a.el(".title","PX")])]),this._config.connector&&a.el(".line-edit-content",[a.el(".input_element.arrow_select",d.getSelect(this._handlers.saveType,"backArrow",[{id:"",el:function(){return c.getIcon("line")}},{id:"filled",el:function(){return c.getIcon("filled-arrow")}}],this._config.value.backArrow)),a.el(".input_element.arrow_select",d.getSelect(this._handlers.saveType,"forwardArrow",[{id:"",el:function(){return c.getIcon("line")}},{id:"filled",el:function(){return c.getIcon("filled-arrow-rewerse")}}],this._config.value.forwardArrow)),d.getIconGroup(this._handlers.iconClick,"connectType",[{id:"straight",el:c.getIcon("straight"),css:"dhx_line_icon"},{id:"elbow",el:c.getIcon("elbow"),css:"dhx_line_icon"}],this._config.value.connectType)]),this._config.value.connectType&&"elbow"===this._config.value.connectType&&a.el(".input_element",[a.el("input",{type:"text",name:"cornersRadius",onchange:this._handlers.change,oninput:this._handlers.change,value:this._config.value.cornersRadius}),a.el(".input_icon_wrap",[a.el(".input_icon","r")])])])},e.prototype._showPopup=function(t){this._colorPicker.setValue(this._config.value.stroke),this._colorPicker.show(t)},e}(n(2).Text);e.Stroke=h},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.toVDOM=function(){var t=this._config,e=t.placeholder||"";return r.el(".edit-section.text-edit",{_key:this._uid},[r.el(".section-title",t.label),r.el("textarea.dhx_textarea",{placeholder:e,value:t.value,class:this._config.isValid?"":"dhx_invalid",_ref:this._uid,onchange:this._handlers.change,oninput:this._handlers.change,autofocus:!0})])},e}(n(2).Text);e.Textarea=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var s=n(20),a=n(0),l=n(15),c=n(19),d=function(t){function e(e,n){var i=this;return e.validation=e.validation||"color",(i=t.call(this,e,n)||this)._colorPicker=new s.Colorpicker,i._colorPicker.attachEvent("onColorChange",function(t){i.setValue(r({},i._config.value,{fontColor:t}))}),i._handlers.show=function(t){return i._showPopup(t.target)},i._handlers.change=function(t){var e=t.target.value;l.validate(e,"number")?(t.target.setAttribute("class",""),i.setValue(r({},i._config.value,{lineHeight:e}))):t.target.setAttribute("class","dhx_invalid")},i._handlers.onSelect=function(t,e){var n;i.setValue(r({},i._config.value,((n={})[t]=e,n)))},i._handlers.iconClick=function(t,e){var n,o=e.target.getAttribute("dhx_id");i.setValue(r({},i._config.value,((n={})[t]=o,n)))},i}return o(e,t),e.prototype.toVDOM=function(){return a.el(".edit-section.line-edit",{_key:this._uid},[a.el(".section-title",this._config.label||""),a.el(".line-edit-content",[a.el(".dropup.input_element",c.getSelect(this._handlers.onSelect,"fontSize",[{id:"14",text:"14"},{id:"16",text:"16"},{id:"18",text:"18"},{id:"20",text:"20"}],this._config.value.fontSize||"14")),a.el(".input_element.line_height",[a.el("input",{type:"text",onchange:this._handlers.change,oninput:this._handlers.change,value:this._config.value.lineHeight,_key:"line_height"}),a.el(".input_icon_wrap",[a.el(".dxi.dxi-format-line-spacing")])]),c.getIconGroup(this._handlers.iconClick,"fontWeight",[{id:"bold",css:"dxi dxi-format-bold"}],this._config.value.fontWeight,!0),c.getIconGroup(this._handlers.iconClick,"fontStyle",[{id:"italic",css:"dxi dxi-format-italic"}],this._config.value.fontStyle,!0)]),a.el(".line-edit-content",[a.el(".input_element.alone_picker",{onclick:this._handlers.show},[a.el(".input_icon_wrap",[a.el(".input_icon",{style:{backgroundColor:this._config.value.fontColor}})])]),!1!==this._config.alignments&&c.getIconGroup(this._handlers.iconClick,"textAlign",[{id:"left",css:"dxi dxi-format-align-left"},{id:"center",css:"dxi dxi-format-align-center"},{id:"right",css:"dxi dxi-format-align-right"}],this._config.value.textAlign),!1!==this._config.alignments&&c.getIconGroup(this._handlers.iconClick,"textVerticalAlign",[{id:"top",css:"dxi dxi-format-vertical-align-top"},{id:"center",css:"dxi dxi-format-vertical-align-center"},{id:"bottom",css:"dxi dxi-format-vertical-align-bottom"}],this._config.value.textVerticalAlign)])])},e.prototype._showPopup=function(t){this._colorPicker.setValue(this._config.value.fontColor),this._colorPicker.show(t)},e}(n(2).Text);e.TextProps=d},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),s=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i._handlers.upload=function(t){return i._onUpload(t)},i}return o(e,t),e.prototype.toVDOM=function(){return r.el(".edit-section.color-edit",[r.el(".section-title",this._config.label),r.el(".dhx_img_uploader",[r.el("label",[r.el("input.dhx_uploader_input",{type:"file",name:"file",id:"dhx_img_upload",accept:".jpg, .jpeg, .png",style:"display:none",onchange:this._handlers.upload}),r.el(".dhx_uploader_preview",{id:"dhx_img_preview",class:this._loading?"loading":"",style:'background-image:url("'+this._config.value+'")',_ref:this._uid},[r.el(".dhx_loading")]),r.el(".pop-up",this._config.hint||"Click to upload")])])])},e.prototype._getBase64=function(t){return new Promise(function(e,n){t||n();var i=new FileReader;i.onloadend=function(){e(i.result)},i.readAsDataURL(t)})},e.prototype._onUpload=function(t){var e=this,n=t.target.files[0];this._loading=!0,this._evs.callEvent("onBeforeFileUpload"),this._getBase64(n).then(function(t){e.setValue(t),e._evs.callEvent("onAfterFileUpload")}).catch(function(t){return!0}).then(function(t){return e._loading=!1})},e}(n(2).Text);e.Uploader=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.toVDOM=function(){var t=this._config;t.placeholder;return r.el(".edit-section.text-edit",{_key:this._uid},[r.el(".section-title",t.label)])},e}(n(2).Text);e.Label=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0);e.baseSidebar=[{id:"color",type:"color",label:"Color",hint:"Top line",value:"#FFDDFF"},{id:"position",type:"inputsGroup",label:"Position",validate:"number",options:[{id:"dx",value:"1000",label:"dx",validate:"number"},{id:"dy",value:"999",label:"dy",validate:"number"}]},{id:"size",type:"inputsGroup",label:"Size",options:[{id:"width",value:"1000",label:"w",validate:"number"},{id:"height",value:"999",label:"h",validate:"number"}]}],e.freeSidebar=[{id:"arrange",type:"inputsGroup",label:"Arrange",validate:"number",options:[{id:"x",value:"1000",label:"x",validate:"number"},{id:"y",value:"999",label:"y",validate:"number"},{id:"width",value:"1000",label:"w",validate:"number"},{id:"height",value:"999",label:"h",validate:"number"},{id:"angle",value:"999",label:"y",validate:"number",icon:function(){return i.el(".dxi.dxi-rotate-right.rotate_icon")}}]}]},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var s=n(1),a=n(5),l=n(30),c=n(31),d=n(17),h=n(29),u=n(32),p=n(108),f=n(33),g=n(14),_=n(35),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.parse=function(t){this._diagram.data.parse(t.map(function(t){return t.from||t.to?t:(t.fill=t.fill||"#EEF1F6",t.stroke=t.stroke||"#B8C6D6",t.extraLinesStroke=t.extraLinesStroke||"#B8C6D6",t)}))},e.prototype._initUI=function(t){var e=this,n=this._layout=new l.Layout(t,{height:"100%",rows:[{id:"top",css:"dhx_topbar shadow-bottom"},{css:"flex editor free_editor",cols:[{id:"left",css:"shapesbar_cont"},{id:"center",css:"flex"},{id:"right",css:"sidebar free_sidebar"}]}],css:"dhx_free_editor"});this._diagram=new a.Diagram(null,{type:this.config.type||"",select:!0,toolbar:c.freeEditorButtons,gridStep:this.config.gridStep,margin:{y:70,x:this.config.reservedWidth},lineGap:this.config.lineGap}),this._diagram.config.$svg=function(t){var n=e._diagram.selection.getId(),i=e._diagram.data.getItem(n);return e._resizer.toSVG(i,t)},this._diagram.data.parse([{id:1,type:"rectangle",x:0,y:0}]),this._diagram.events.on(a.DiagramEvents.load,function(){e.history.reset(),e._diagram.selection.add(e._diagram.data.getId(0)),e._checkEditMode()}),this._diagram.events.on(a.DiagramEvents.emptyAreaClick,function(t){e._diagram.selection.getId()&&(e._diagram.selection.remove(),e._sidebar.empty(),e._diagram.paint(),e._layout.paint()),e._findNearestConnector(t)}),this._shapesBar=new p.ShapesBar(null,{events:this.events,diagram:this._diagram}),this._sidebar=new f.Sidebar(this._diagram),this._resizer=new d.Controls(this.events,this._diagram),this.history=new _.UndoManager(this._diagram.data),n.cell("top").attach(u.topbar,this),n.cell("right").attach(this._sidebar.getUI()),n.cell("left").attach(this._shapesBar),n.cell("center").attach(this._diagram),this._checkEditMode()},e.prototype._showConnectPoints=function(t,e){var n=this._diagram.data.getItem(t);e?(n.$connectMode=!n.$connectMode,this._resizer.toggleNearShape(n)):this._resizer.setNearShape(n)},e.prototype._setHandlers=function(){var t=this;this._diagram.events.on(a.DiagramEvents.shapeIconClick,function(e){var n=t._diagram.selection.getId();switch(e){case"copy":var i=r({},t._diagram.selection.getItem());i.id=s.uid(),i.x+=i.width+10,t._diagram.data.add(i);break;case"remove":t._removeShape(n);break;case"connect":t._showConnectPoints(t._diagram.selection.getId(),!0);break;case"removePoint":var o=t._diagram.selection.getItem();o.points.splice(o.$selectedPoint,1),o.$selectedPoint=null,t._diagram.paint()}}),this._diagram.events.on(a.DataEvents.change,function(){return t._layout.paint()}),this._diagram.events.on(a.DiagramEvents.shapeHover,function(e){var n=t._diagram.selection.getId(),i=t._diagram.data.getItem(e);e===n||i.$shape.isConnector()||t._showConnectPoints(e)}),this.events.on(g.DiagramEditorEvents.zoomIn,function(){t._diagram.config.scale=t._diagram.config.scale||1,t._diagram.config.scale+=.05,t.paint()}),this.events.on(g.DiagramEditorEvents.zoomOut,function(){t._diagram.config.scale=t._diagram.config.scale||1,t._diagram.config.scale-=.05,t.paint()}),this.events.on(g.DiagramEditorEvents.visibility,function(){t.config.editMode=!t.config.editMode,t._checkEditMode(),t._layout.paint()}),this.events.on(g.DiagramEditorEvents.shapesUp,function(n){if(t._changeMode){var i=t._diagram.selection.getId();return t._diagram.data.update(i,{type:n.type}),t._diagram.paint(),t._changeMode=!1,void t._layout.cell("center").attach(t._diagram)}var o=t._diagram.getRootView().node.el.getBoundingClientRect();if(n.x<o.left||n.x>o.right)t._addShape(n,0,0);else{var r=t._resizer.getPoint(n.x,n.y);r.x=Math.round(r.x/e)*e,r.y=Math.round(r.y/e)*e,t._addShape(n,r.x,r.y)}}),this._keyManager.addHotKey("delete",function(){t._removeShape()}),this._keyManager.addHotKey("ctrl+c",function(){t._copyShape()}),this._keyManager.addHotKey("ctrl+v",function(){t._sidebar.isItemsSelected()||t._pasteShape()}),this._keyManager.addHotKey("ctrl+z",function(){t._sidebar.isItemsSelected()||t.history.undo()}),this._keyManager.addHotKey("ctrl+shift+z",function(){t._sidebar.isItemsSelected()||t.history.redo()}),this._keyManager.addHotKey("meta+c",function(){t._copyShape()}),this._keyManager.addHotKey("meta+v",function(){t._sidebar.isItemsSelected()||t._pasteShape()}),this._keyManager.addHotKey("meta+z",function(){t._sidebar.isItemsSelected()||t.history.undo()}),this._keyManager.addHotKey("meta+shift+z",function(){t._sidebar.isItemsSelected()||t.history.redo()});var e=10;this._keyManager.addHotKey("arrowleft",function(){var n=t._diagram.selection.getItem();n&&t._diagram.data.update(n.id,{x:n.x-e})}),this._keyManager.addHotKey("arrowright",function(){var n=t._diagram.selection.getItem();n&&t._diagram.data.update(n.id,{x:n.x+e})}),this._keyManager.addHotKey("arrowup",function(){var n=t._diagram.selection.getItem();n&&t._diagram.data.update(n.id,{y:n.y-e})}),this._keyManager.addHotKey("arrowdown",function(){var n=t._diagram.selection.getItem();n&&t._diagram.data.update(n.id,{y:n.y+e})})},e.prototype._copyShape=function(){this._copiedShape=this._diagram.selection.getItem()},e.prototype._pasteShape=function(){this._copiedShape&&this._diagram.data.add(r({},this._copiedShape,{id:s.uid(),x:0,y:0}))},e.prototype._addShape=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=0),this._diagram.data.add({id:s.uid(),type:t.type,text:t.text||"Text",x:e,y:n,fill:"#EEF1F6",stroke:"#B8C6D6",extraLinesStroke:"#B8C6D6"})},e.prototype._findNearestConnector=function(t){var e=this,n=this._resizer.getPoint(t.clientX,t.clientY);this._diagram.data.map(function(t){if(t.$shape.isConnector())for(var i=0;i<t.points.length;i++){var o=t.points[i];if(t.points[i+1]){var r=n,s=o,a=t.points[i+1],l=s.y<r.y&&a.y>r.y||a.y<r.y&&s.y>r.y,c=s.x<r.x&&a.x>r.x||a.x<r.x&&s.x>r.x;if(l||c){var d=Math.sqrt(Math.pow(s.x-r.x,2)+Math.pow(s.y-r.y,2)),h=Math.sqrt(Math.pow(a.x-r.x,2)+Math.pow(a.y-r.y,2)),u=Math.sqrt(Math.pow(a.x-s.x,2)+Math.pow(a.y-s.y,2)),p=(d+h+u)/2;if(2*Math.sqrt(p*(p-d)*(p-h)*(p-u))/u<=10){e._diagram.selection.add(t.id);break}}}}})},e}(h.DiagramEditor);e.FreeEditor=v},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=n(4),l=n(6),c=n(23),d=n(10),h=function(t){function e(e,n){var i=t.call(this,e,n)||this;i._dropdowns=[],i._handleMove=function(t){if((!(Math.abs(t.pageX-i._pressedShapeInfo.x+t.pageY-i._pressedShapeInfo.y)<10)||i._shadow)&&i._pressedShapeInfo){if(!i._shadow){i._shadow=s.create({render:function(){return i._getShadow()}},i),i._shadow.mount(document.body)}i._pressedShapeInfo.x=t.x,i._pressedShapeInfo.y=t.y,i._shadow.redraw()}},i._handleUp=function(){document.removeEventListener("mousemove",i._handleMove),document.removeEventListener("mouseup",i._handleUp),i.config.events.fire("shapesUp",[r({},i._pressedShapeInfo)]),i._pressedShapeInfo=null,i._shadow&&(i._shadow.unmount(),i._shadow=null)},i._toggle=function(t){i._dropdowns[t]=!i._dropdowns[t]},i._htmlEvents={onmousedown:a.eventHandler(function(t){return a.locate(t)},{dhx_shape_thumb:function(t,e){1===t.which&&(i._pressedShapeInfo={type:e,x:t.x,y:t.y},"text"===e&&(i._pressedShapeInfo.text="Text"),document.addEventListener("mousemove",i._handleMove),document.addEventListener("mouseup",i._handleUp))}})};var o=s.create({render:function(t){return i._render(t)}},i);return i.mount(e,o),i}return o(e,t),e.prototype._getShadow=function(){if(this._pressedShapeInfo){var t=this.config.diagram.config.scale,e=this._pressedShapeInfo.type,n=this._pressedShapeInfo.y,i=this._pressedShapeInfo.x;return"text"===e?s.el(".dhx_shape_shadow",{style:{position:"fixed",zIndex:999999,top:n,left:i}},[this._getTextShape()]):s.el(".dhx_shape_shadow",{style:{position:"fixed",zIndex:999999,top:n,left:i}},[s.sv("svg",{width:150*t,height:100*t,viewbox:"0 0 10 10",preserveAspectRatio:"none"},[new c.FlowShape({type:e,x:0,y:0,fill:"#EEF1F6",stroke:"#B8C6D6"}).toSVG()])])}},e.prototype._getWrappedShape=function(t,e,n,i){return s.el(".dhx_shape_thumb",{dhx_id:t},[i||s.sv("svg",{width:e+7,height:n+7,viewbox:"0 0 "+(e+7)+" "+(n+7),xmlns:"http://www.w3.org/2000/svg"},[new c.FlowShape({type:t,width:e,height:n,x:4.5,y:4.5}).toSVG()]),s.el(".dhx_shape_name",t)])},e.prototype._wrapDropdown=function(t,e,n){void 0===n&&(n=!0);var i=t;return this._dropdowns[t]=void 0===this._dropdowns[t]?n:this._dropdowns[t],s.el(".dhx_dropdown",[s.el("input",{class:"dhx_dropdown_checkbox",id:i,name:i,type:"checkbox",checked:this._dropdowns[t],onchange:[this._toggle,t]}),s.el("label",{class:"dhx_dropdown_label",for:i},t),s.el(".dhx_dropdown_content",[e])])},e.prototype._getTextShape=function(){return d.getIcon("text-shape","",30,30)},e.prototype._render=function(t){var e=this,n=Object.keys(c.renders),i=n.map(function(t){return e._getWrappedShape(t,50,30)});return i.push(this._getWrappedShape("text",50,70,this._getTextShape())),s.el(".shapesbar_wrap",{onclick:this._htmlEvents.onclick,onmousedown:this._htmlEvents.onmousedown},[this._wrapDropdown("shapes",s.el(".shapesbar",i))])},e}(l.View);e.ShapesBar=h}]);